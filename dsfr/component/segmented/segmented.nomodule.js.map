{"version":3,"file":"segmented.nomodule.js","sources":["../../../.config/config.js","../../../src/core/api.js","../../../src/component/segmented/script/segmented/segmented-selector.js","../../../src/component/segmented/script/segmented/segmented-emission.js","../../../src/component/segmented/script/segmented/segmented.js","../../../src/component/segmented/script/segmented/segmented-element.js","../../../src/component/segmented/index.js","../../../src/component/segmented/main.js"],"sourcesContent":["const config = {\r\n  prefix: 'fr',\r\n  namespace: 'dsfr',\r\n  organisation: '@gouvfr',\r\n  version: '1.12.1'\r\n};\r\n\r\nexport default config;\r\n","import config from './config.js';\nconst api = window[config.namespace];\nexport default api;\n","import api from '../../api.js';\n\nexport const SegmentedSelector = {\n  SEGMENTED: api.internals.ns.selector('segmented'),\n  SEGMENTED_ELEMENTS: api.internals.ns.selector('segmented__elements'),\n  SEGMENTED_ELEMENT: api.internals.ns.selector('segmented__element input'),\n  SEGMENTED_LEGEND: api.internals.ns.selector('segmented__legend')\n};\n","import api from '../../api.js';\n\nconst SegmentedEmission = {\n  ADDED: api.internals.ns.emission('segmented', 'added'),\n  REMOVED: api.internals.ns.emission('segmented', 'removed')\n};\n\nexport { SegmentedEmission };\n","import api from '../../api.js';\nimport { SegmentedSelector } from './segmented-selector.js';\nimport { SegmentedEmission } from './segmented-emission.js';\n\nclass Segmented extends api.core.Instance {\n  static get instanceClassName () {\n    return 'Segmented';\n  }\n\n  init () {\n    this.elements = this.node.querySelector(SegmentedSelector.SEGMENTED_ELEMENTS);\n    this.legend = this.node.querySelector(SegmentedSelector.SEGMENTED_LEGEND);\n    this.addAscent(SegmentedEmission.ADDED, this.resize.bind(this));\n    this.addAscent(SegmentedEmission.REMOVED, this.resize.bind(this));\n    this._isLegendInline = this.legend && this.legend.classList.contains(`${api.prefix}-segmented__legend--inline`);\n    this.isResizing = true;\n  }\n\n  resize () {\n    const SEGMENTED_VERTICAL = `${api.prefix}-segmented--vertical`;\n    const LEGEND_INLINE = `${api.prefix}-segmented__legend--inline`;\n    const gapOffset = 16;\n\n    this.removeClass(SEGMENTED_VERTICAL);\n\n    if (this._isLegendInline) {\n      this.legend.classList.add(LEGEND_INLINE);\n\n      if (this.node.offsetWidth > this.node.parentNode.offsetWidth || (this.elements.scrollWidth + this.legend.offsetWidth + gapOffset) > this.node.parentNode.offsetWidth) {\n        this.legend.classList.remove(LEGEND_INLINE);\n      }\n    }\n\n    if (this.elements.offsetWidth > this.node.parentNode.offsetWidth || this.elements.scrollWidth > this.node.parentNode.offsetWidth) {\n      this.addClass(SEGMENTED_VERTICAL);\n    } else {\n      this.removeClass(SEGMENTED_VERTICAL);\n    }\n  }\n}\n\nexport { Segmented };\n","import api from '../../api.js';\nimport { SegmentedEmission } from './segmented-emission.js';\n\nclass SegmentedElement extends api.core.Instance {\n  static get instanceClassName () {\n    return 'SegmentedElement';\n  }\n\n  init () {\n    this.ascend(SegmentedEmission.ADDED);\n  }\n\n  dispose () {\n    this.ascend(SegmentedEmission.REMOVED);\n  }\n}\n\nexport { SegmentedElement };\n","import api from './api.js';\nimport { Segmented } from './script/segmented/segmented.js';\nimport { SegmentedElement } from './script/segmented/segmented-element.js';\nimport { SegmentedSelector } from './script/segmented/segmented-selector.js';\nimport { SegmentedEmission } from './script/segmented/segmented-emission.js';\n\napi.segmented = {\n  SegmentedSelector: SegmentedSelector,\n  SegmentedEmission: SegmentedEmission,\n  SegmentedElement: SegmentedElement,\n  Segmented: Segmented\n};\n\nexport default api;\n","import api from './index.js';\n\napi.internals.register(api.segmented.SegmentedSelector.SEGMENTED, api.segmented.Segmented);\napi.internals.register(api.segmented.SegmentedSelector.SEGMENTED_ELEMENT, api.segmented.SegmentedElement);\n\nexport default api;\n"],"names":["const"],"mappings":"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"}