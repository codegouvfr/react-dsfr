{"version":3,"file":"segmented.module.min.js","sources":["../../../.config/config.js","../../../src/dsfr/core/api.js","../../../src/dsfr/component/segmented/script/segmented/segmented-selector.js","../../../src/dsfr/component/segmented/script/segmented/segmented-emission.js","../../../src/dsfr/component/segmented/script/segmented/segmented.js","../../../src/dsfr/component/segmented/script/segmented/segmented-element.js","../../../src/dsfr/component/segmented/index.js","../../../src/dsfr/component/segmented/main.js"],"sourcesContent":["const config = {\r\n  prefix: 'fr',\r\n  namespace: 'dsfr',\r\n  organisation: '@gouvfr',\r\n  version: '1.13.0'\r\n};\r\n\r\nexport default config;\r\n","import config from './config.js';\nconst api = window[config.namespace];\nexport default api;\n","import api from '../../api.js';\n\nexport const SegmentedSelector = {\n  SEGMENTED: api.internals.ns.selector('segmented'),\n  SEGMENTED_ELEMENTS: api.internals.ns.selector('segmented__elements'),\n  SEGMENTED_ELEMENT: api.internals.ns.selector('segmented__element input'),\n  SEGMENTED_LEGEND: api.internals.ns.selector('segmented__legend')\n};\n","import api from '../../api.js';\n\nconst SegmentedEmission = {\n  ADDED: api.internals.ns.emission('segmented', 'added'),\n  REMOVED: api.internals.ns.emission('segmented', 'removed')\n};\n\nexport { SegmentedEmission };\n","import api from '../../api.js';\nimport { SegmentedSelector } from './segmented-selector.js';\nimport { SegmentedEmission } from './segmented-emission.js';\n\nclass Segmented extends api.core.Instance {\n  static get instanceClassName () {\n    return 'Segmented';\n  }\n\n  init () {\n    this.elements = this.node.querySelector(SegmentedSelector.SEGMENTED_ELEMENTS);\n    this.legend = this.node.querySelector(SegmentedSelector.SEGMENTED_LEGEND);\n    this.addAscent(SegmentedEmission.ADDED, this.resize.bind(this));\n    this.addAscent(SegmentedEmission.REMOVED, this.resize.bind(this));\n    this._isLegendInline = this.legend && this.legend.classList.contains(`${api.prefix}-segmented__legend--inline`);\n    this.isResizing = true;\n  }\n\n  resize () {\n    const SEGMENTED_VERTICAL = `${api.prefix}-segmented--vertical`;\n    const LEGEND_INLINE = `${api.prefix}-segmented__legend--inline`;\n    const gapOffset = 16;\n\n    this.removeClass(SEGMENTED_VERTICAL);\n\n    if (this._isLegendInline) {\n      this.legend.classList.add(LEGEND_INLINE);\n\n      if (this.node.offsetWidth > this.node.parentNode.offsetWidth || (this.elements.scrollWidth + this.legend.offsetWidth + gapOffset) > this.node.parentNode.offsetWidth) {\n        this.legend.classList.remove(LEGEND_INLINE);\n      }\n    }\n\n    if (this.elements.offsetWidth > this.node.parentNode.offsetWidth || this.elements.scrollWidth > this.node.parentNode.offsetWidth) {\n      this.addClass(SEGMENTED_VERTICAL);\n    } else {\n      this.removeClass(SEGMENTED_VERTICAL);\n    }\n  }\n}\n\nexport { Segmented };\n","import api from '../../api.js';\nimport { SegmentedEmission } from './segmented-emission.js';\n\nclass SegmentedElement extends api.core.Instance {\n  static get instanceClassName () {\n    return 'SegmentedElement';\n  }\n\n  init () {\n    this.ascend(SegmentedEmission.ADDED);\n  }\n\n  dispose () {\n    this.ascend(SegmentedEmission.REMOVED);\n  }\n}\n\nexport { SegmentedElement };\n","import api from './api.js';\nimport { Segmented } from './script/segmented/segmented.js';\nimport { SegmentedElement } from './script/segmented/segmented-element.js';\nimport { SegmentedSelector } from './script/segmented/segmented-selector.js';\nimport { SegmentedEmission } from './script/segmented/segmented-emission.js';\n\napi.segmented = {\n  SegmentedSelector: SegmentedSelector,\n  SegmentedEmission: SegmentedEmission,\n  SegmentedElement: SegmentedElement,\n  Segmented: Segmented\n};\n\nexport default api;\n","import api from './index.js';\n\napi.internals.register(api.segmented.SegmentedSelector.SEGMENTED, api.segmented.Segmented);\napi.internals.register(api.segmented.SegmentedSelector.SEGMENTED_ELEMENT, api.segmented.SegmentedElement);\n\nexport default api;\n"],"names":["api","window","SegmentedSelector","SEGMENTED","internals","ns","selector","SEGMENTED_ELEMENTS","SEGMENTED_ELEMENT","SEGMENTED_LEGEND","SegmentedEmission","ADDED","emission","REMOVED","Segmented","core","Instance","instanceClassName","init","this","elements","node","querySelector","legend","addAscent","resize","bind","_isLegendInline","classList","contains","prefix","isResizing","SEGMENTED_VERTICAL","LEGEND_INLINE","removeClass","add","offsetWidth","parentNode","scrollWidth","remove","addClass","SegmentedElement","ascend","dispose","segmented","register"],"mappings":";AAAA,MCCMA,EAAMC,OAAuB,KCCtBC,EAAoB,CAC/BC,UAAWH,EAAII,UAAUC,GAAGC,SAAS,aACrCC,mBAAoBP,EAAII,UAAUC,GAAGC,SAAS,uBAC9CE,kBAAmBR,EAAII,UAAUC,GAAGC,SAAS,4BAC7CG,iBAAkBT,EAAII,UAAUC,GAAGC,SAAS,sBCJxCI,EAAoB,CACxBC,MAAOX,EAAII,UAAUC,GAAGO,SAAS,YAAa,SAC9CC,QAASb,EAAII,UAAUC,GAAGO,SAAS,YAAa,YCAlD,MAAME,UAAkBd,EAAIe,KAAKC,SACpBC,+BACT,MAAO,WACR,CAEDC,OACEC,KAAKC,SAAWD,KAAKE,KAAKC,cAAcpB,EAAkBK,oBAC1DY,KAAKI,OAASJ,KAAKE,KAAKC,cAAcpB,EAAkBO,kBACxDU,KAAKK,UAAUd,EAAkBC,MAAOQ,KAAKM,OAAOC,KAAKP,OACzDA,KAAKK,UAAUd,EAAkBG,QAASM,KAAKM,OAAOC,KAAKP,OAC3DA,KAAKQ,gBAAkBR,KAAKI,QAAUJ,KAAKI,OAAOK,UAAUC,SAAS,GAAG7B,EAAI8B,oCAC5EX,KAAKY,YAAa,CACnB,CAEDN,SACE,MAAMO,EAAqB,GAAGhC,EAAI8B,6BAC5BG,EAAgB,GAAGjC,EAAI8B,mCAG7BX,KAAKe,YAAYF,GAEbb,KAAKQ,kBACPR,KAAKI,OAAOK,UAAUO,IAAIF,IAEtBd,KAAKE,KAAKe,YAAcjB,KAAKE,KAAKgB,WAAWD,aAAgBjB,KAAKC,SAASkB,YAAcnB,KAAKI,OAAOa,YAPzF,GAOoHjB,KAAKE,KAAKgB,WAAWD,cACvJjB,KAAKI,OAAOK,UAAUW,OAAON,IAI7Bd,KAAKC,SAASgB,YAAcjB,KAAKE,KAAKgB,WAAWD,aAAejB,KAAKC,SAASkB,YAAcnB,KAAKE,KAAKgB,WAAWD,YACnHjB,KAAKqB,SAASR,GAEdb,KAAKe,YAAYF,EAEpB,ECnCH,MAAMS,UAAyBzC,EAAIe,KAAKC,SAC3BC,+BACT,MAAO,kBACR,CAEDC,OACEC,KAAKuB,OAAOhC,EAAkBC,MAC/B,CAEDgC,UACExB,KAAKuB,OAAOhC,EAAkBG,QAC/B,ECRHb,EAAI4C,UAAY,CACd1C,kBAAmBA,EACnBQ,kBAAmBA,EACnB+B,iBAAkBA,EAClB3B,UAAWA,GCRbd,EAAII,UAAUyC,SAAS7C,EAAI4C,UAAU1C,kBAAkBC,UAAWH,EAAI4C,UAAU9B,WAChFd,EAAII,UAAUyC,SAAS7C,EAAI4C,UAAU1C,kBAAkBM,kBAAmBR,EAAI4C,UAAUH"}