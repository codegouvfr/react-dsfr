{"version":3,"file":"toggle.nomodule.min.js","sources":["../../../.config/config.js","../../../src/dsfr/core/api.js","../../../src/dsfr/component/toggle/script/toggle/toggle-input.js","../../../src/dsfr/component/toggle/script/toggle/toggle-status-label.js","../../../src/dsfr/component/toggle/script/toggle/toggle-selector.js","../../../src/dsfr/component/toggle/index.js","../../../src/dsfr/component/toggle/main.js"],"sourcesContent":["const config = {\r\n  prefix: 'fr',\r\n  namespace: 'dsfr',\r\n  organisation: '@gouvfr',\r\n  version: '1.13.0'\r\n};\r\n\r\nexport default config;\r\n","import config from './config.js';\nconst api = window[config.namespace];\nexport default api;\n","import api from '../../api.js';\n\nclass ToggleInput extends api.core.Instance {\n  static get instanceClassName () {\n    return 'ToggleInput';\n  }\n\n  get isChecked () {\n    return this.node.checked;\n  }\n}\n\nexport { ToggleInput };\n","import api from '../../api.js';\nimport { ToggleInput } from './toggle-input.js';\n\nclass ToggleStatusLabel extends api.core.Instance {\n  static get instanceClassName () {\n    return 'ToggleStatusLabel';\n  }\n\n  init () {\n    this.register(`input[id=\"${this.getAttribute('for')}\"]`, ToggleInput);\n    this.update();\n    this.isSwappingFont = true;\n  }\n\n  get proxy () {\n    const scope = this;\n    return Object.assign(super.proxy, {\n      update: scope.update.bind(scope)\n    });\n  }\n\n  get input () {\n    return this.getRegisteredInstances('ToggleInput')[0];\n  }\n\n  update () {\n    this.node.style.removeProperty('--toggle-status-width');\n    const checked = this.input.isChecked;\n\n    const style = getComputedStyle(this.node, ':before');\n    let maxWidth = parseFloat(style.width);\n    this.input.node.checked = !checked;\n\n    const style2 = getComputedStyle(this.node, ':before');\n    const width = parseFloat(style2.width);\n    if (width > maxWidth) maxWidth = width;\n    this.input.node.checked = checked;\n\n    this.node.style.setProperty('--toggle-status-width', (maxWidth / 16) + 'rem');\n  }\n\n  swapFont (families) {\n    this.update();\n  }\n}\n\nexport { ToggleStatusLabel };\n","import api from '../../api.js';\n\nexport const ToggleSelector = {\n  STATUS_LABEL: `${api.internals.ns.selector('toggle__label')}${api.internals.ns.attr.selector('checked-label')}${api.internals.ns.attr.selector('unchecked-label')}`\n};\n","import api from './api.js';\nimport { ToggleStatusLabel } from './script/toggle/toggle-status-label.js';\nimport { ToggleSelector } from './script/toggle/toggle-selector.js';\n// import { ToggleInput } from './script/toggle/toggle-input.js';\n\napi.toggle = {\n  ToggleStatusLabel: ToggleStatusLabel,\n  ToggleSelector: ToggleSelector\n};\n\nexport default api;\n","import api from './index.js';\n\napi.internals.register(api.toggle.ToggleSelector.STATUS_LABEL, api.toggle.ToggleStatusLabel);\n\nexport default api;\n"],"names":["const","api","window","ToggleInput","superclass","staticAccessors","instanceClassName","prototypeAccessors","isChecked","this","node","checked","core","Instance","ToggleStatusLabel","prototype","init","register","getAttribute","update","isSwappingFont","proxy","Object","assign","call","super","bind","input","getRegisteredInstances","style","removeProperty","getComputedStyle","maxWidth","parseFloat","width","style2","setProperty","swapFont","families","ToggleSelector","STATUS_LABEL","internals","ns","selector","attr","toggle"],"mappings":";yBAAAA,ICCMC,EAAMC,OAAuB,KCC7BC,EAAqC,SAAAC,kNACzCC,EAAWC,iCACT,MAAO,aACX,EAEEC,EAAIC,yBACF,OAAOC,KAAKC,KAAKC,OACrB,wEAPiB,CAASV,EAAIW,KAAKC,UCC7BC,EAA2C,SAAAV,sOAC/CC,EAAWC,iCACT,MAAO,mBACX,EAEAQ,EAAAC,UAAEC,gBACEP,KAAKQ,sBAAsBR,KAAKS,aAAa,OAAM,KAAMf,GACzDM,KAAKU,SACLV,KAAKW,gBAAiB,CAC1B,EAEEb,EAAIc,qBAEF,OAAOC,OAAOC,OAAAC,UAAOC,EAAKV,UAACM,MAAO,CAChCF,OAFYV,KAEEU,OAAOO,KAFTjB,OAIlB,EAEEF,EAAIoB,qBACF,OAAOlB,KAAKmB,uBAAuB,eAAe,EACtD,EAEAd,EAAAC,UAAEI,kBACEV,KAAKC,KAAKmB,MAAMC,eAAe,yBAC/B9B,IAAMW,EAAUF,KAAKkB,MAAMnB,UAErBqB,EAAQE,iBAAiBtB,KAAKC,KAAM,WACtCsB,EAAWC,WAAWJ,EAAMK,OAChCzB,KAAKkB,MAAMjB,KAAKC,SAAWA,EAE3BX,IAAMmC,EAASJ,iBAAiBtB,KAAKC,KAAM,WACrCwB,EAAQD,WAAWE,EAAOD,OAC5BA,EAAQF,IAAUA,EAAWE,GACjCzB,KAAKkB,MAAMjB,KAAKC,QAAUA,EAE1BF,KAAKC,KAAKmB,MAAMO,YAAY,wBAA0BJ,EAAW,GAAM,MAC3E,EAEElB,EAAAC,UAAAsB,SAAA,SAAUC,GACR7B,KAAKU,QACT,wEAxCuB,CAASlB,EAAIW,KAAKC,UCD5B0B,EAAiB,CAC5BC,aAAc,GAAGvC,EAAIwC,UAAUC,GAAGC,SAAS,iBAAmB1C,EAAIwC,UAAUC,GAAGE,KAAKD,SAAS,iBAAmB1C,EAAIwC,UAAUC,GAAGE,KAAKD,SAAS,oBCEjJ1C,EAAI4C,OAAS,CACX/B,kBAAmBA,EACnByB,eAAgBA,GCLlBtC,EAAIwC,UAAUxB,SAAShB,EAAI4C,OAAON,eAAeC,aAAcvC,EAAI4C,OAAO/B"}