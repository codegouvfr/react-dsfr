{"version":3,"file":"analytics.module.min.js","sources":["../../.config/config.js","../../src/dsfr/core/api.js","../../src/dsfr/analytics/script/analytics/engine/collection.js","../../src/dsfr/analytics/script/analytics/facade/opt.js","../../src/dsfr/analytics/script/analytics/facade/init.js","../../src/dsfr/analytics/script/analytics/cmp/tarte-au-citron-integration.js","../../src/dsfr/analytics/script/analytics/cmp/consent-manager-platform.js","../../src/dsfr/analytics/script/analytics/facade/push.js","../../src/dsfr/analytics/script/analytics/facade/push-type.js","../../src/dsfr/analytics/script/analytics/engine/renderer.js","../../src/dsfr/analytics/script/analytics/action/action-regulation.js","../../src/dsfr/analytics/script/analytics/engine/queue.js","../../src/dsfr/analytics/script/analytics/facade/debug.js","../../src/dsfr/analytics/script/analytics/collector/user/status.js","../../src/dsfr/analytics/script/analytics/collector/user/type.js","../../src/dsfr/analytics/script/analytics/utils/restricted.js","../../src/dsfr/analytics/script/analytics/utils/normalize.js","../../src/dsfr/analytics/script/analytics/utils/type-validator.js","../../src/dsfr/analytics/script/analytics/collector/user/user.js","../../src/dsfr/analytics/script/analytics/collector/site/environment.js","../../src/dsfr/analytics/script/analytics/collector/site/site.js","../../src/dsfr/analytics/script/analytics/collector/page/inventory.js","../../src/dsfr/analytics/script/analytics/collector/page/page.js","../../src/dsfr/analytics/script/analytics/collector/search/mehod.js","../../src/dsfr/analytics/script/analytics/collector/search/search.js","../../src/dsfr/analytics/script/analytics/collector/funnel/funnel.js","../../src/dsfr/analytics/script/analytics/action/action-mode.js","../../src/dsfr/analytics/script/analytics/action/action-status.js","../../src/dsfr/analytics/script/analytics/action/action.js","../../src/dsfr/analytics/script/analytics/action/actions.js","../../src/dsfr/analytics/script/analytics/engine/location.js","../../src/dsfr/analytics/script/analytics/engine/collector-event.js","../../src/dsfr/analytics/script/integration/core/actionee-emission.js","../../src/dsfr/analytics/script/analytics/engine/action-enable.js","../../src/dsfr/analytics/script/analytics/engine/collector.js","../../src/dsfr/analytics/script/analytics/analytics.js","../../src/dsfr/analytics/index.js","../../src/dsfr/core/script/api/utilities/property/complete-assign.js","../../src/dsfr/analytics/script/analytics/action/type.js","../../src/dsfr/analytics/script/analytics/utils/hierarchy/type.js","../../src/dsfr/analytics/script/analytics/utils/hierarchy/member.js","../../src/dsfr/analytics/script/analytics/utils/hierarchy/hierarchy.js","../../src/dsfr/analytics/script/analytics/action/action-element.js","../../src/dsfr/analytics/script/integration/core/actionee.js","../../src/dsfr/analytics/script/integration/attributes/attribute-actionee.js","../../src/dsfr/analytics/script/integration/attributes/attributes.js","../../src/dsfr/analytics/script/integration/component/button/button-emission.js","../../src/dsfr/analytics/script/integration/component/component-actionee.js","../../src/dsfr/analytics/script/integration/component/accordion/accordion-selector.js","../../src/dsfr/analytics/script/integration/component/accordion/id.js","../../src/dsfr/analytics/script/integration/component/accordion/accordion-button-actionee.js","../../src/dsfr/analytics/script/integration/component/accordion/accordion-actionee.js","../../src/dsfr/analytics/script/integration/join-selector.js","../../src/dsfr/analytics/script/integration/component/alert/alert-selector.js","../../src/dsfr/analytics/script/integration/component/alert/alert-actionee.js","../../src/dsfr/analytics/script/integration/component/alert/id.js","../../src/dsfr/analytics/script/integration/component/alert/integrate.js","../../src/dsfr/analytics/script/integration/component/breadcrumb/breadcrumb-selector.js","../../src/dsfr/analytics/script/integration/component/breadcrumb/breadcrumb-actionee.js","../../src/dsfr/analytics/script/integration/component/breadcrumb/id.js","../../src/dsfr/analytics/script/integration/component/breadcrumb/breadcrumb-link-actionee.js","../../src/dsfr/analytics/script/integration/component/breadcrumb/integrate.js","../../src/dsfr/analytics/script/integration/component/button/button-selector.js","../../src/dsfr/analytics/script/integration/component/button/button-actionee.js","../../src/dsfr/analytics/script/integration/component/button/id.js","../../src/dsfr/analytics/script/integration/component/button/integrate.js","../../src/dsfr/analytics/script/integration/component/callout/callout-selector.js","../../src/dsfr/analytics/script/integration/component/callout/callout-actionee.js","../../src/dsfr/analytics/script/integration/component/callout/id.js","../../src/dsfr/analytics/script/integration/component/callout/integrate.js","../../src/dsfr/analytics/script/integration/component/card/card-selector.js","../../src/dsfr/analytics/script/integration/component/card/card-actionee.js","../../src/dsfr/analytics/script/integration/component/card/id.js","../../src/dsfr/analytics/script/integration/component/card/integrate.js","../../src/dsfr/analytics/script/integration/component/checkbox/checkbox-selector.js","../../src/dsfr/analytics/script/integration/component/checkbox/checkbox-actionee.js","../../src/dsfr/analytics/script/integration/component/checkbox/id.js","../../src/dsfr/analytics/script/integration/component/checkbox/integrate.js","../../src/dsfr/analytics/script/integration/component/connect/connect-selector.js","../../src/dsfr/analytics/script/integration/component/connect/id.js","../../src/dsfr/analytics/script/integration/component/connect/connect-actionee.js","../../src/dsfr/analytics/script/integration/component/connect/connect-link-actionee.js","../../src/dsfr/analytics/script/integration/component/connect/integrate.js","../../src/dsfr/analytics/script/integration/component/consent/consent-selector.js","../../src/dsfr/analytics/script/integration/component/consent/consent-actionee.js","../../src/dsfr/analytics/script/integration/component/consent/id.js","../../src/dsfr/analytics/script/integration/component/consent/integrate.js","../../src/dsfr/analytics/script/integration/component/download/download-selector.js","../../src/dsfr/analytics/script/integration/component/download/download-actionee.js","../../src/dsfr/analytics/script/integration/component/download/id.js","../../src/dsfr/analytics/script/integration/component/download/integrate.js","../../src/dsfr/analytics/script/integration/component/follow/follow-selector.js","../../src/dsfr/analytics/script/integration/component/follow/follow-actionee.js","../../src/dsfr/analytics/script/integration/component/follow/id.js","../../src/dsfr/analytics/script/integration/component/follow/integrate.js","../../src/dsfr/analytics/script/integration/component/footer/footer-selector.js","../../src/dsfr/analytics/script/integration/component/footer/footer-actionee.js","../../src/dsfr/analytics/script/integration/component/footer/id.js","../../src/dsfr/analytics/script/integration/component/footer/footer-link-actionee.js","../../src/dsfr/analytics/script/integration/component/header/header-actionee.js","../../src/dsfr/analytics/script/integration/component/header/id.js","../../src/dsfr/analytics/script/integration/component/header/header-modal-button-actionee.js","../../src/dsfr/analytics/script/integration/component/header/header-modal-actionee.js","../../src/dsfr/analytics/script/integration/component/header/header-selector.js","../../src/dsfr/analytics/script/integration/component/header/header-tools-button-actionee.js","../../src/dsfr/analytics/script/integration/component/header/header-menu-button-actionee.js","../../src/dsfr/analytics/script/integration/component/header/integrate.js","../../src/dsfr/analytics/script/integration/component/highlight/highlight-selector.js","../../src/dsfr/analytics/script/integration/component/highlight/highlight-actionee.js","../../src/dsfr/analytics/script/integration/component/highlight/id.js","../../src/dsfr/analytics/script/integration/component/highlight/integrate.js","../../src/dsfr/analytics/script/integration/component/link/link-selector.js","../../src/dsfr/analytics/script/integration/component/link/link-actionee.js","../../src/dsfr/analytics/script/integration/component/link/id.js","../../src/dsfr/analytics/script/integration/component/link/integrate.js","../../src/dsfr/analytics/script/integration/component/input/input-selector.js","../../src/dsfr/analytics/script/integration/component/input/input-actionee.js","../../src/dsfr/analytics/script/integration/component/input/id.js","../../src/dsfr/analytics/script/integration/component/input/integrate.js","../../src/dsfr/analytics/script/integration/component/modal/modal-selector.js","../../src/dsfr/analytics/script/integration/component/modal/modal-actionee.js","../../src/dsfr/analytics/script/integration/component/modal/id.js","../../src/dsfr/analytics/script/integration/component/navigation/navigation-actionee.js","../../src/dsfr/analytics/script/integration/component/navigation/navigation-selector.js","../../src/dsfr/analytics/script/integration/component/navigation/navigation-link-actionee.js","../../src/dsfr/analytics/script/integration/component/navigation/id.js","../../src/dsfr/analytics/script/integration/component/navigation/navigation-section-actionee.js","../../src/dsfr/analytics/script/integration/component/navigation/integrate.js","../../src/dsfr/analytics/script/integration/component/notice/notice-selector.js","../../src/dsfr/analytics/script/integration/component/notice/id.js","../../src/dsfr/analytics/script/integration/component/notice/notice-actionee.js","../../src/dsfr/analytics/script/integration/component/notice/notice-link-actionee.js","../../src/dsfr/analytics/script/integration/component/notice/integrate.js","../../src/dsfr/analytics/script/integration/component/pagination/pagination-selector.js","../../src/dsfr/analytics/script/integration/component/pagination/pagination-actionee.js","../../src/dsfr/analytics/script/integration/component/pagination/id.js","../../src/dsfr/analytics/script/integration/component/pagination/pagination-link-actionee.js","../../src/dsfr/analytics/script/integration/component/pagination/integrate.js","../../src/dsfr/analytics/script/integration/component/quote/quote-selector.js","../../src/dsfr/analytics/script/integration/component/quote/quote-actionee.js","../../src/dsfr/analytics/script/integration/component/quote/id.js","../../src/dsfr/analytics/script/integration/component/quote/integrate.js","../../src/dsfr/analytics/script/integration/component/radio/radio-selector.js","../../src/dsfr/analytics/script/integration/component/form/form-selector.js","../../src/dsfr/analytics/script/integration/component/radio/radio-actionee.js","../../src/dsfr/analytics/script/integration/component/radio/id.js","../../src/dsfr/analytics/script/integration/component/radio/integrate.js","../../src/dsfr/analytics/script/integration/component/search/search-selector.js","../../src/dsfr/analytics/script/integration/component/search/search-actionee.js","../../src/dsfr/analytics/script/integration/component/search/id.js","../../src/dsfr/analytics/script/integration/component/search/integrate.js","../../src/dsfr/analytics/script/integration/component/select/select-selector.js","../../src/dsfr/analytics/script/integration/component/select/select-actionee.js","../../src/dsfr/analytics/script/integration/component/select/id.js","../../src/dsfr/analytics/script/integration/component/select/integrate.js","../../src/dsfr/analytics/script/integration/component/share/share-selector.js","../../src/dsfr/analytics/script/integration/component/share/share-actionee.js","../../src/dsfr/analytics/script/integration/component/share/id.js","../../src/dsfr/analytics/script/integration/component/share/integrate.js","../../src/dsfr/analytics/script/integration/component/sidemenu/sidemenu-selector.js","../../src/dsfr/analytics/script/integration/component/sidemenu/sidemenu-actionee.js","../../src/dsfr/analytics/script/integration/component/sidemenu/sidemenu-link-actionee.js","../../src/dsfr/analytics/script/integration/component/sidemenu/id.js","../../src/dsfr/analytics/script/integration/component/sidemenu/sidemenu-section-actionee.js","../../src/dsfr/analytics/script/integration/component/sidemenu/integrate.js","../../src/dsfr/analytics/script/integration/component/summary/summary-selector.js","../../src/dsfr/analytics/script/integration/component/summary/summary-actionee.js","../../src/dsfr/analytics/script/integration/component/summary/summary-link-actionee.js","../../src/dsfr/analytics/script/integration/component/summary/id.js","../../src/dsfr/analytics/script/integration/component/summary/summary-section-actionee.js","../../src/dsfr/analytics/script/integration/component/tab/tab-button-actionee.js","../../src/dsfr/analytics/script/integration/component/tab/id.js","../../src/dsfr/analytics/script/integration/component/tab/tab-actionee.js","../../src/dsfr/analytics/script/integration/component/tab/integrate.js","../../src/dsfr/analytics/script/integration/component/table/table-selector.js","../../src/dsfr/analytics/script/integration/component/table/table-actionee.js","../../src/dsfr/analytics/script/integration/component/table/id.js","../../src/dsfr/analytics/script/integration/component/table/integrate.js","../../src/dsfr/analytics/script/integration/component/tag/tag-selector.js","../../src/dsfr/analytics/script/integration/component/tag/tag-actionee.js","../../src/dsfr/analytics/script/integration/component/tag/id.js","../../src/dsfr/analytics/script/integration/component/tag/integrate.js","../../src/dsfr/analytics/script/integration/component/tile/tile-selector.js","../../src/dsfr/analytics/script/integration/component/tile/tile-actionee.js","../../src/dsfr/analytics/script/integration/component/tile/id.js","../../src/dsfr/analytics/script/integration/component/tile/integrate.js","../../src/dsfr/analytics/script/integration/component/toggle/toggle-selector.js","../../src/dsfr/analytics/script/integration/component/toggle/toggle-actionee.js","../../src/dsfr/analytics/script/integration/component/toggle/id.js","../../src/dsfr/analytics/script/integration/component/toggle/integrate.js","../../src/dsfr/analytics/script/integration/component/transcription/transcription-selector.js","../../src/dsfr/analytics/script/integration/component/transcription/id.js","../../src/dsfr/analytics/script/integration/component/transcription/transcription-button-actionee.js","../../src/dsfr/analytics/script/integration/component/transcription/transcription-actionee.js","../../src/dsfr/analytics/script/integration/component/transcription/integrate.js","../../src/dsfr/analytics/script/integration/component/translate/translate-selector.js","../../src/dsfr/analytics/script/integration/component/translate/id.js","../../src/dsfr/analytics/script/integration/component/translate/translate-actionee.js","../../src/dsfr/analytics/script/integration/component/translate/translate-button-actionee.js","../../src/dsfr/analytics/script/integration/component/translate/integrate.js","../../src/dsfr/analytics/script/integration/component/upload/upload-selector.js","../../src/dsfr/analytics/script/integration/component/upload/upload-actionee.js","../../src/dsfr/analytics/script/integration/component/upload/id.js","../../src/dsfr/analytics/script/integration/component/upload/integrate.js","../../src/dsfr/analytics/script/integration/component/components.js","../../src/dsfr/analytics/script/integration/component/accordion/integrate.js","../../src/dsfr/analytics/script/integration/component/footer/integrate.js","../../src/dsfr/analytics/script/integration/component/modal/integrate.js","../../src/dsfr/analytics/script/integration/component/summary/integrate.js","../../src/dsfr/analytics/script/integration/integration.js","../../src/dsfr/analytics/main.js"],"sourcesContent":["const config = {\r\n  prefix: 'fr',\r\n  namespace: 'dsfr',\r\n  organisation: '@gouvfr',\r\n  version: '1.14.2'\r\n};\r\n\r\nexport default config;\r\n","import config from './config.js';\nconst api = window[config.namespace];\nexport default api;\n","const Collection = {\n  MANUAL: 'manual',\n  LOAD: 'load',\n  FULL: 'full',\n  HASH: 'hash'\n};\n\nexport default Collection;\n","const key = '_EA_';\nconst DISABLED = `${key}disabled`;\nconst TOGGLE = `${key}toggle`;\n\nclass Opt {\n  constructor () {\n    this._configure();\n  }\n\n  _configure () {\n    const scope = this;\n    window[DISABLED] = () => scope.isDisabled;\n    window[TOGGLE] = this.toggle.bind(this);\n  }\n\n  get isDisabled () {\n    return localStorage.getItem(key);\n  }\n\n  toggle () {\n    if (this.isDisabled) this.enable();\n    else this.disable();\n  }\n\n  enable () {\n    if (localStorage.getItem(key)) {\n      localStorage.removeItem(key);\n    }\n  }\n\n  disable () {\n    localStorage.setItem(key, '1');\n  }\n}\n\nconst opt = new Opt();\n\nexport default opt;\n","import api from '../../../api.js';\nimport opt from './opt';\n\nconst PUSH = 'EA_push';\n\nclass Init {\n  constructor (domain) {\n    this._domain = domain;\n    this._isLoaded = false;\n    this._promise = new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      this._reject = reject;\n    });\n  }\n\n  get id () {\n    return this._id;\n  }\n\n  get store () {\n    return this._store;\n  }\n\n  configure () {\n    this.init();\n    return this._promise;\n  }\n\n  init () {\n    let bit = 5381;\n    for (let i = this._domain.length - 1; i > 0; i--) bit = (bit * 33) ^ this._domain.charCodeAt(i);\n    bit >>>= 0;\n    this._id = `_EA_${bit}`;\n\n    this._store = [];\n    this._store.eah = this._domain;\n    window[this._id] = this._store;\n\n    if (!window[PUSH]) window[PUSH] = (...args) => this.store.push(args);\n\n    if (opt.isDisabled) {\n      api.inspector.warn('User opted out, eulerian is disabled');\n      this._reject('User opted out, eulerian is disabled');\n    } else this.load();\n  }\n\n  load () {\n    const stamp = new Date() / 1E7 | 0;\n    const offset = stamp % 26;\n    const key = String.fromCharCode(97 + offset, 122 - offset, 65 + offset) + (stamp % 1E3);\n    this._script = document.createElement('script');\n    this._script.ea = this.id;\n    this._script.async = true;\n    this._script.addEventListener('load', this.loaded.bind(this));\n    this._script.addEventListener('error', this.error.bind(this));\n    this._script.src = `//${this._domain}/${key}.js?2`;\n    const node = document.getElementsByTagName('script')[0];\n    node.parentNode.insertBefore(this._script, node);\n  }\n\n  error () {\n    api.inspector.error('unable to load Eulerian script file. the domain declared in your configuration must match the domain provided by the Eulerian interface (tag creation)');\n    this._reject('eulerian script loading error');\n  }\n\n  loaded () {\n    if (this._isLoaded) return;\n    this._isLoaded = true;\n    this._resolve();\n  }\n}\n\nexport { Init };\n\n/*\n(function(e, a) {\n  var i = e.length,\n    y = 5381,\n    k = 'script',\n    s = window,\n    v = document,\n    o = v.createElement(k);\n  for (; i;) {\n    i -= 1;\n    y = (y * 33) ^ e.charCodeAt(i)\n  }\n  y = '_EA_' + (y >>>= 0);\n  (function(e, a, s, y) {\n    s[a] = s[a] || function() {\n      (s[y] = s[y] || []).push(arguments);\n      s[y].eah = e;\n    };\n  }(e, a, s, y));\n  i = new Date / 1E7 | 0;\n  o.ea = y;\n  y = i % 26;\n  o.async = 1;\n  o.src = '//' + e + '/' + String.fromCharCode(97 + y, 122 - y, 65 + y) + (i % 1E3) + '.js?2';\n  s = v.getElementsByTagName(k)[0];\n  s.parentNode.insertBefore(o, s);\n})\n('mon.domainedetracking.com', 'EA_push');\n*/\n\n/*\n(function(e, a) {\n  var i = e.length,\n    y = 5381,\n    k = 'script',\n    z = '_EA_',\n    zd = z + 'disabled',\n    s = window,\n    v = document,\n    o = v.createElement(k),\n    l = s.localStorage;\n  for (; i;) {\n    i -= 1;\n    y = (y * 33) ^ e.charCodeAt(i)\n  }\n  y = z + (y >>>= 0);\n  (function(e, a, s, y, z, zd, l) {\n    s[a] = s[a] || function() {\n      (s[y] = s[y] || []).push(arguments);\n      s[y].eah = e;\n    };\n    s[zd] = function() {\n      return l.getItem(z);\n    };\n    s[z + 'toggle'] = function() {\n      (s[zd]()) ? l.removeItem(z): l.setItem(z, 1);\n    }\n  }(e, a, s, y, z, zd, l));\n  if (!s[zd]()) {\n    i = new Date / 1E7 | 0;\n    o.ea = y;\n    y = i % 26;\n    o.async = 1;\n    o.src = '//' + e + '/' + String.fromCharCode(97 + y, 122 - y, 65 + y) + (i % 1E3) + '.js?2';\n    s = v.getElementsByTagName(k)[0];\n    s.parentNode.insertBefore(o, s);\n  }\n})('mon.domainedetracking.com', 'EA_push');\n*/\n","import api from '../../../api.js';\n\nconst State = {\n  UNKNOWN: -1,\n  CONFIGURING: 0,\n  CONFIGURED: 1,\n  INITIATED: 2,\n  READY: 3\n};\n\nclass TarteAuCitronIntegration {\n  constructor (config) {\n    this._config = config;\n    this._state = State.UNKNOWN;\n    this._promise = new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      this._reject = reject;\n    });\n  }\n\n  configure () {\n    if (this._state >= State.CONFIGURED) return this._promise;\n    if (this._state === State.UNKNOWN) {\n      api.inspector.info('analytics configures tarteaucitron');\n      this._state = State.CONFIGURING;\n    }\n\n    const tarteaucitron = window.tarteaucitron;\n    if (!tarteaucitron || !tarteaucitron.services) {\n      window.requestAnimationFrame(this.configure.bind(this));\n      return;\n    }\n\n    this._state = State.CONFIGURED;\n    const init = this.init.bind(this);\n\n    const data = {\n      key: 'eulerian',\n      type: 'analytic',\n      name: 'Eulerian Analytics',\n      needConsent: true,\n      cookies: ['etuix'],\n      uri: 'https://eulerian.com/vie-privee',\n      js: init,\n      fallback: () => { tarteaucitron.services.eulerian.js(); }\n    };\n\n    tarteaucitron.services.eulerian = data;\n    if (!tarteaucitron.job) tarteaucitron.job = [];\n    tarteaucitron.job.push('eulerian');\n\n    return this._promise;\n  }\n\n  init () {\n    if (this._state >= State.INITIATED) return;\n    this._state = State.INITIATED;\n    window.__eaGenericCmpApi = this.integrate.bind(this);\n    const update = this.update.bind(this);\n    window.addEventListener('tac.close_alert', update);\n    window.addEventListener('tac.close_panel', update);\n  }\n\n  integrate (cmpApi) {\n    if (this._state >= State.READY) return;\n    this._state = State.READY;\n    this._cmpApi = cmpApi;\n\n    api.inspector.info('analytics has integrated tarteaucitron');\n\n    this._resolve();\n    this.update();\n  }\n\n  update () {\n    if (this._state < State.READY) return;\n    this._cmpApi('tac', window.tarteaucitron, 1);\n  }\n}\n\nexport { TarteAuCitronIntegration };\n","import { TarteAuCitronIntegration } from './tarte-au-citron-integration';\n\nclass ConsentManagerPlatform {\n  constructor (config) {\n    this._config = config;\n\n    if (config) {\n      switch (config.id) {\n        case 'tarteaucitron':\n          this.integrateTarteAuCitron();\n          break;\n      }\n    }\n  }\n\n  integrateTarteAuCitron () {\n    this._tac = new TarteAuCitronIntegration(this._config);\n    return this._tac.configure();\n  }\n\n  optin () {\n\n  }\n}\n\nexport { ConsentManagerPlatform };\n","import api from '../../../api.js';\n\nconst push = (type, layer) => {\n  if (typeof window.EA_push !== 'function') {\n    api.inspector.warn('Analytics datalayer not sent, Eulerian API isn\\'t yet avalaible');\n    return;\n  }\n\n  api.inspector.info('analytics', type, layer);\n\n  window.EA_push(type, layer);\n};\n\nexport default push;\n","const PushType = {\n  COLLECTOR: 'collector',\n  ACTION: 'action',\n  ACTION_PARAMETER: 'actionparam'\n};\n\nexport default PushType;\n","class Renderer {\n  constructor () {\n    this._renderables = [];\n    this._rendering = this.render.bind(this);\n    requestAnimationFrame(this._rendering);\n  }\n\n  add (renderable) {\n    const index = this._renderables.indexOf(renderable);\n    if (index === -1) this._renderables.push(renderable);\n  }\n\n  remove (renderable) {\n    const index = this._renderables.indexOf(renderable);\n    if (index > -1) this._renderables.splice(index, 1);\n  }\n\n  render () {\n    this._renderables.forEach(renderable => renderable.render());\n    requestAnimationFrame(this._rendering);\n  }\n}\n\nconst renderer = new Renderer();\n\nexport default renderer;\n","export const ActionRegulation = {\n  ENFORCE: 'enforce',\n  PREVENT: 'prevent',\n  NONE: 'none'\n};\n","\nimport PushType from '../facade/push-type.js';\nimport push from '../facade/push.js';\nimport renderer from './renderer';\nimport api from '../../../api';\nimport { ActionRegulation } from '../action/action-regulation';\n\nconst SLICE = 80;\n\nclass Queue {\n  constructor () {\n    this._startingActions = [];\n    this._endingActions = [];\n    this._handlingVisibilityChange = this._handleVisibilityChange.bind(this);\n    this._handlingEnd = this._handleEnd.bind(this);\n    this._isStarted = false;\n    this._isListening = false;\n    this.reset();\n  }\n\n  setCollector (collector) {\n    this._collector = collector;\n  }\n\n  reset (ending = false) {\n    this._type = PushType.ACTION;\n    if (!ending) this._startingActions.length = 0;\n    this._endingActions.length = 0;\n    this._count = 0;\n    this._delay = -1;\n    this._isRequested = false;\n    this._unlisten();\n  }\n\n  start () {\n    if (this._isStarted) return;\n    this._isStarted = true;\n    renderer.add(this);\n  }\n\n  collect () {\n    this._type = PushType.COLLECTOR;\n    this._request();\n  }\n\n  regulate (action, queue) {\n    if (!action) return false;\n    if (queue.some(queued => queued.test(action))) {\n      api.inspector.log('action exists in queue', action);\n      return false;\n    }\n    switch (action.regulation) {\n      case ActionRegulation.PREVENT:\n        return false;\n      case ActionRegulation.ENFORCE:\n        return true;\n      default:\n        return this._collector.isActionEnabled === true;\n    }\n  }\n\n  appendStartingAction (action, data) {\n    if (!this.regulate(action, this._startingActions)) return;\n    const queued = new QueuedAction(action, data);\n    this._startingActions.push(queued);\n    this._request();\n  }\n\n  appendEndingAction (action, data) {\n    if (!this.regulate(action, this._endingActions)) return;\n    const queued = new QueuedAction(action, data);\n    this._endingActions.push(queued);\n    this._request();\n  }\n\n  _request () {\n    this._listen();\n    this._isRequested = true;\n    this._delay = 4;\n  }\n\n  _listen () {\n    if (this._isListening) return;\n    this._isListening = true;\n    document.addEventListener('visibilitychange', this._handlingVisibilityChange);\n    document.addEventListener('unload', this._handlingEnd);\n    document.addEventListener('beforeunload', this._handlingEnd);\n    document.addEventListener('pagehide', this._handlingEnd);\n  }\n\n  _unlisten () {\n    if (!this._isListening) return;\n    this._isListening = false;\n    document.removeEventListener('visibilitychange', this._handlingVisibilityChange);\n    document.removeEventListener('unload', this._handlingEnd);\n    document.removeEventListener('beforeunload', this._handlingEnd);\n    document.removeEventListener('pagehide', this._handlingEnd);\n  }\n\n  _handleVisibilityChange (e) {\n    if (document.visibilityState === 'hidden') this.send();\n  }\n\n  _handleEnd () {\n    this.send();\n  }\n\n  render () {\n    if (this._delay <= -1) return;\n    this._delay--;\n    this._count++;\n    switch (true) {\n      case this._count > 20:\n      case this._delay === 0:\n        this.send();\n        break;\n    }\n  }\n\n  send (ending = false) {\n    if (!this._isRequested) return;\n    const actionLayers = [];\n    if (!ending) actionLayers.push(...this._startingActions.map(queued => queued.start()).filter(layer => layer.length > 0));\n    actionLayers.push(...this._endingActions.map(queued => queued.end()).filter(layer => layer.length > 0));\n\n    const length = ((actionLayers.length / SLICE) + 1) | 0;\n    const slices = [];\n    for (let i = 0; i < length; i++) {\n      const slice = actionLayers.slice(i * SLICE, (i + 1) * SLICE);\n      slices.push(slice.flat());\n    }\n\n    if (this._type === PushType.COLLECTOR && this._collector.isCollecting) {\n      const layer = this._collector.layer;\n      if (slices.length > 0) {\n        const slice = slices.splice(0, 1)[0];\n        if (slice.length > 0) layer.push.apply(layer, slice);\n      }\n      layer.flat();\n      if (layer.length > 0) push(PushType.COLLECTOR, layer);\n    }\n\n    if (slices.length > 0) {\n      for (let i = 0; i < slices.length; i++) {\n        const slice = slices[i];\n        if (slice.length > 0) push(PushType.ACTION, slice);\n      }\n    }\n\n    this.reset(ending);\n  }\n}\n\nclass QueuedAction {\n  constructor (action, data) {\n    this._action = action;\n    this._data = data;\n  }\n\n  test (action) {\n    return this._action === action;\n  }\n\n  start () {\n    return this._action.start(this._data);\n  }\n\n  end () {\n    return this._action.end(this._data);\n  }\n}\n\nconst queue = new Queue();\n\nexport default queue;\n","class Debug {\n  get debugger () {\n    return window._oEa;\n  }\n\n  get isActive () {\n    if (!this.debugger) return false;\n    return this.debugger._dbg === '1';\n  }\n\n  set isActive (value) {\n    if (!this.debugger || this.isActive === value) return;\n    this.debugger.debug(value ? 1 : 0);\n  }\n}\n\nconst debug = new Debug();\n\nexport default debug;\n","const Status = {\n  CONNECTED: {\n    id: 'connected',\n    value: 'connecté',\n    isConnected: true,\n    isDefault: true\n  },\n  ANONYMOUS: {\n    id: 'anonymous',\n    value: 'anonyme',\n    isConnected: false,\n    isDefault: true\n  },\n  GUEST: {\n    id: 'guest',\n    value: 'invité',\n    isConnected: false\n  }\n};\n\nexport default Status;\n","const Type = {\n  INDIVIDUAL: {\n    id: 'individual',\n    value: 'part'\n  },\n  PROFESSIONNAL: {\n    id: 'professionnal',\n    value: 'pro'\n  }\n};\n\nexport default Type;\n","/*  '[\"\\'<>*$&~`|\\\\\\\\?^~]'; */\nexport default {\n  '0x0022': '＂',\n  '0x0024': '＄',\n  '0x0026': '＆',\n  '0x0027': '＇',\n  '0x002a': '＊',\n  '0x002c': '，',\n  '0x003c': '＜',\n  '0x003e': '＞',\n  '0x003f': '？',\n  '0x005c': '＼',\n  '0x005e': '＾',\n  '0x0060': '｀',\n  '0x007c': '｜',\n  '0x007e': '～'\n};\n","// import TABLE from './unicode-table';\nimport RESTRICTED from './restricted';\n\nconst charCodeHex = (char) => {\n  const code = char.charCodeAt(0).toString(16);\n  return '0x0000'.slice(0, -code.length) + code;\n};\n\nconst normalize = (text) => {\n  if (!text) return text;\n  // text = [...text].map(char => TABLE[charCodeHex(char)] || char).join('');\n  text = [...text].map(char => RESTRICTED[charCodeHex(char)] || char).join('');\n  text = text.replace(/\\s+/g, ' ').replace(/\\s/g, '_');\n  text = text.toLowerCase();\n  return text;\n};\n\nexport default normalize;\n","import api from '../../../api';\n\nconst validateString = (value, name, allowNull = true) => {\n  switch (true) {\n    case typeof value === 'number':\n      return `${value}`;\n\n    case typeof value === 'string':\n      return value;\n\n    case value === undefined && allowNull:\n    case value === null && allowNull:\n      return '';\n  }\n\n  api.inspector.warn(`unexpected value '${value}' set at analytics.${name}. Expecting a String`);\n  return null;\n};\n\nconst validateNumber = (value, name, allowNull = true) => {\n  switch (true) {\n    case !isNaN(value):\n      return value;\n\n    case typeof value === 'string' && !isNaN(Number(value)):\n      return Number(value);\n\n    case value === undefined && allowNull:\n    case value === null && allowNull:\n      return -1;\n  }\n\n  api.inspector.warn(`unexpected value '${value}' set at analytics.${name}. Expecting a Number`);\n  return null;\n};\n\nconst validateBoolean = (value, name) => {\n  switch (true) {\n    case typeof value === 'boolean':\n      return value;\n\n    case typeof value === 'string' && value.toLowerCase() === 'true':\n    case value === '1':\n    case value === 1:\n      return true;\n\n    case typeof value === 'string' && value.toLowerCase() === 'false':\n    case value === '0':\n    case value === 0:\n      return false;\n\n    case value === undefined:\n    case value === null:\n      return value;\n  }\n\n  api.inspector.warn(`unexpected value '${value}' set at analytics.${name}. Expecting a Boolean`);\n  return null;\n};\n\nconst validateLang = (value, name, allowNull = true) => {\n  switch (true) {\n    case typeof value === 'string' && /^[A-Za-z]{2}$|^[A-Za-z]{2}[-_]/.test(value):\n      return value.split(/[-_]/)[0].toLowerCase();\n\n    case value === undefined && allowNull:\n    case value === null && allowNull:\n      return '';\n  }\n\n  api.inspector.warn(`unexpected value '${value}' set at analytics.${name}. Expecting language as a String following ISO 639-1 format`);\n  return null;\n};\n\nconst validateGeography = (value, name, allowNull = true) => {\n  switch (true) {\n    case typeof value === 'string':\n      if (!/^FR-[A-Z0-9]{2,3}$/.test(value)) api.inspector.warn(`value '${value}' set at analytics.${name} with wrong format. Geographic location should be a String following ISO 3166-2:FR format`);\n      return value;\n\n    case value === undefined && allowNull:\n    case value === null && allowNull:\n      return '';\n  }\n\n  api.inspector.warn(`unexpected value '${value}' set at analytics.${name}. Expecting geographic location as a String following ISO 3166-2:FR format`);\n  return null;\n};\n\nconst normaliseISODate = (date) => date.toISOString().split('T')[0];\n\nconst validateDate = (value, name, allowNull = true) => {\n  switch (true) {\n    case value instanceof Date:\n      return normaliseISODate(value);\n\n    case typeof value === 'string': {\n      const date = new Date(value);\n      if (date.toString() !== 'Invalid Date') return normaliseISODate(date);\n      break;\n    }\n\n    case value === undefined && allowNull:\n    case value === null && allowNull:\n      return null;\n  }\n\n  api.inspector.warn(`unexpected value '${value}' set at analytics.${name}. Expecting a Date`);\n  return null;\n};\n\nexport { validateString, validateNumber, validateBoolean, validateLang, validateGeography, validateDate };\n","import api from '../../../../api';\nimport Status from './status';\nimport Type from './type';\nimport normalize from '../../utils/normalize';\nimport { validateBoolean, validateLang, validateString } from '../../utils/type-validator';\n\nclass User {\n  constructor (config) {\n    this._config = config || {};\n  }\n\n  reset (clear = false) {\n    this._isConnected = false;\n    this.status = Status.ANONYMOUS;\n    if (!clear && this._config.connect) this.connect(this._config.connect.uid, this._config.connect.email, this._config.connect.isNew);\n    else {\n      this._uid = undefined;\n      this._email = undefined;\n      this._isNew = false;\n    }\n    this.profile = clear ? undefined : this._config.profile;\n    this.language = clear ? undefined : this._config.language;\n    this.type = clear ? undefined : this._config.type;\n  }\n\n  connect (uid, email, isNew = false) {\n    this._uid = validateString(uid, 'user.uid');\n    if (/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]{2,}@[a-zA-Z0-9-]{2,}\\.[a-zA-Z]{2,}$/.test(email)) api.inspector.warn('Please check analytics.user.email is properly encrypted ');\n    this._email = validateString(email, 'user.email');\n    this._isNew = validateBoolean(isNew);\n    this._isConnected = true;\n    this.status = Status.CONNECTED;\n  }\n\n  get uid () {\n    return this._uid;\n  }\n\n  get email () {\n    return this._email;\n  }\n\n  get isNew () {\n    return this._isNew;\n  }\n\n  set status (id) {\n    const stati = Object.values(Status).filter(status => status.isConnected === this._isConnected);\n    this._status = stati.filter(status => status.id === id || status.value === id)[0] || stati.filter(status => status.isDefault)[0];\n  }\n\n  get status () {\n    return this._status.id;\n  }\n\n  set profile (value) {\n    const valid = validateString(value, 'user.profile');\n    if (valid !== null) this._profile = valid;\n  }\n\n  get profile () {\n    return this._profile.id;\n  }\n\n  set language (value) {\n    const valid = validateLang(value, 'user.language');\n    if (valid !== null) this._language = valid;\n  }\n\n  get language () {\n    return this._language || navigator.language;\n  }\n\n  set type (id) {\n    this._type = Object.values(Type).filter(type => type.id === id || type.value === id)[0];\n  }\n\n  get type () {\n    return this._type.id;\n  }\n\n  get layer () {\n    const layer = [];\n    if (this.uid) layer.push('uid', normalize(this.uid));\n    if (this.email) layer.push('email', normalize(this.email));\n    if (this.isNew) layer.push('newcustomer', '1');\n    if (this.language) layer.push('user_language', this.language);\n    layer.push('user_login_status', this._status.value);\n    if (this._profile) layer.push('profile', this._profile);\n    if (this._type) layer.push('user_type', this._type.value);\n    return layer;\n  }\n}\n\nUser.Status = Status;\nUser.Type = Type;\n\nexport { User };\n","const Environment = {\n  DEVELOPMENT: {\n    id: 'development',\n    value: 'dev'\n  },\n  STAGE: {\n    id: 'stage',\n    value: 'stage'\n  },\n  PRODUCTION: {\n    id: 'production',\n    value: 'prod'\n  }\n};\n\nexport default Environment;\n","import api from '../../../../api';\nimport Environment from './environment';\nimport normalize from '../../utils/normalize';\nimport { validateGeography, validateLang, validateString } from '../../utils/type-validator';\n\nclass Site {\n  constructor (config) {\n    this._config = config || {};\n  }\n\n  reset (clear = false) {\n    this.environment = clear ? Environment.DEVELOPMENT.id : this._config.environment;\n    this.entity = clear ? undefined : this._config.entity;\n    this.language = clear ? undefined : this._config.language;\n    this.target = clear ? undefined : this._config.target;\n    this.type = clear ? undefined : this._config.type;\n    this.region = clear ? undefined : this._config.region;\n    this.department = clear ? undefined : this._config.department;\n    this.version = clear ? undefined : this._config.version;\n    this._api = api.version;\n  }\n\n  set environment (value) {\n    switch (value) {\n      case Environment.PRODUCTION.id:\n      case Environment.PRODUCTION.value:\n        this._environment = Environment.PRODUCTION;\n        break;\n\n      case Environment.STAGE.id:\n      case Environment.STAGE.value:\n        this._environment = Environment.STAGE;\n        break;\n\n      case Environment.DEVELOPMENT.id:\n      case Environment.DEVELOPMENT.value:\n        this._environment = Environment.DEVELOPMENT;\n        break;\n\n      default:\n        this._environment = Environment.DEVELOPMENT;\n    }\n  }\n\n  get environment () {\n    return this._environment ? this._environment.id : Environment.DEVELOPMENT.id;\n  }\n\n  set entity (value) {\n    const valid = validateString(value, 'site.entity');\n    if (valid !== null) this._entity = valid;\n  }\n\n  get entity () {\n    return this._entity;\n  }\n\n  set language (value) {\n    const valid = validateLang(value, 'site.language');\n    if (valid !== null) this._language = valid;\n  }\n\n  get language () {\n    return this._language || document.documentElement.lang;\n  }\n\n  set target (value) {\n    const valid = validateString(value, 'site.target');\n    if (valid !== null) this._target = valid;\n  }\n\n  get target () {\n    return this._target;\n  }\n\n  set type (value) {\n    const valid = validateString(value, 'site.type');\n    if (valid !== null) this._type = valid;\n  }\n\n  get type () {\n    return this._type;\n  }\n\n  set region (value) {\n    const valid = validateGeography(value, 'site.region');\n    if (valid !== null) this._region = valid;\n  }\n\n  get region () {\n    return this._region;\n  }\n\n  set department (value) {\n    const valid = validateGeography(value, 'site.department');\n    if (valid !== null) this._department = valid;\n  }\n\n  get department () {\n    return this._department;\n  }\n\n  set version (value) {\n    const valid = validateString(value, 'site.version');\n    if (valid !== null) this._version = valid;\n  }\n\n  get version () {\n    return this._version;\n  }\n\n  get api () {\n    return this._api;\n  }\n\n  get layer () {\n    const layer = [];\n    layer.push('site_environment', this._environment.value);\n    if (this.entity) layer.push('site_entity', normalize(this.entity));\n    else api.inspector.warn('entity is required in analytics.site');\n    if (this.language) layer.push('site_language', this.language);\n    if (this.target) layer.push('site_target', normalize(this.target));\n    if (this.type) layer.push('site_type', normalize(this.type));\n    if (this.region) layer.push('site_region', this.region);\n    if (this.department) layer.push('site_department', this.department);\n    if (this.version) layer.push('site_version', this.version);\n    if (this.api) layer.push('api_version', this.api);\n    return layer;\n  }\n}\n\nSite.Environment = Environment;\n\nexport { Site };\n","import api from '../../../../api';\n\nexport const Inventory = {\n  accordion: api.internals.ns.selector('accordion'),\n  alert: api.internals.ns.selector('alert'),\n  badge: api.internals.ns.selector('badge'),\n  breadcrumb: api.internals.ns.selector('breadcrumb'),\n  button: api.internals.ns.selector('btn'),\n  callout: api.internals.ns.selector('callout'),\n  card: api.internals.ns.selector('card'),\n  checkbox: api.internals.ns.selector('checkbox-group'),\n  connect: api.internals.ns.selector('connect'),\n  consent: api.internals.ns.selector('consent-banner'),\n  content: api.internals.ns.selector('content-media'),\n  download: api.internals.ns.selector('download'),\n  follow: api.internals.ns.selector('follow'),\n  footer: api.internals.ns.selector('footer'),\n  header: api.internals.ns.selector('header'),\n  highlight: api.internals.ns.selector('highlight'),\n  input: api.internals.ns.selector('input-group'),\n  link: api.internals.ns.selector('link'),\n  modal: api.internals.ns.selector('modal'),\n  navigation: api.internals.ns.selector('nav'),\n  notice: api.internals.ns.selector('notice'),\n  pagination: api.internals.ns.selector('pagination'),\n  quote: api.internals.ns.selector('quote'),\n  radio: api.internals.ns.selector('radio-group'),\n  search: api.internals.ns.selector('search-bar'),\n  select: api.internals.ns.selector('select'),\n  share: api.internals.ns.selector('share'),\n  sidemenu: api.internals.ns.selector('sidemenu'),\n  stepper: api.internals.ns.selector('stepper'),\n  summary: api.internals.ns.selector('summary'),\n  tab: api.internals.ns.selector('tabs'),\n  table: api.internals.ns.selector('table'),\n  tag: api.internals.ns.selector('tag'),\n  tile: api.internals.ns.selector('tile'),\n  toggle: api.internals.ns.selector('toggle'),\n  tooltip: api.internals.ns.selector('tooltip'),\n  transcription: api.internals.ns.selector('transcription'),\n  translate: api.internals.ns.selector('translate'),\n  upload: api.internals.ns.selector('upload-group')\n};\n","import api from '../../../../api';\nimport normalize from '../../utils/normalize';\nimport { validateBoolean, validateNumber, validateString, validateDate } from '../../utils/type-validator';\nimport { Inventory } from './inventory';\n\nconst CollectionState = {\n  COLLECTABLE: 'collectable',\n  COLLECTING: 'collecting',\n  COLLECTED: 'collected'\n};\n\nclass Page {\n  constructor (config) {\n    this._config = config || {};\n    this._state = CollectionState.COLLECTABLE;\n  }\n\n  reset (clear = false) {\n    this.path = clear ? '' : this._config.path;\n    this.referrer = clear ? '' : this._config.referrer;\n    this.title = clear ? '' : this._config.title;\n    this.name = clear ? '' : this._config.name;\n    this.id = clear ? '' : this._config.id;\n    this.author = clear ? '' : this._config.author;\n    this.date = clear ? '' : this._config.date;\n    this._labels = clear || !this._config.labels ? ['', '', '', '', ''] : this._config.labels;\n    this._labels.length = 5;\n    this._tags = clear || !this._config.tags ? [] : this._config.tags;\n    this._categories = clear || !this._config.categories ? ['', '', ''] : this._config.categories;\n    this.isError = !clear && this._config.isError;\n    this.template = clear ? '' : this._config.template;\n    this.group = clear ? '' : this._config.group;\n    this.segment = clear ? '' : this._config.segment;\n    this.subtemplate = clear ? '' : this._config.subtemplate;\n    this.theme = clear ? '' : this._config.theme;\n    this.subtheme = clear ? '' : this._config.subtheme;\n    this.related = clear ? '' : this._config.related;\n    this.depth = clear || isNaN(this._config.depth) ? 0 : this._config.depth;\n    this.current = clear || isNaN(this._config.current) ? -1 : this._config.current;\n    this.total = clear || isNaN(this._config.total) ? -1 : this._config.total;\n    this._filters = clear || !this._config.filters ? [] : this._config.filters;\n  }\n\n  collecting () {\n    if (this._state !== CollectionState.COLLECTABLE) {\n      api.inspector.warn(`current path '${this.path}' was already collected`);\n      return false;\n    }\n    this._state = CollectionState.COLLECTING;\n    return true;\n  }\n\n  get isCollecting () {\n    return this._state === CollectionState.COLLECTING;\n  }\n\n  set path (value) {\n    const valid = validateString(value, 'page.path');\n    if (valid !== null) {\n      this._path = valid;\n      this._state = CollectionState.COLLECTABLE;\n    }\n  }\n\n  get path () {\n    return this._path || `${document.location.pathname}${document.location.search}`;\n  }\n\n  set referrer (value) {\n    const valid = validateString(value, 'page.referrer');\n    if (valid !== null) this._referrer = valid;\n  }\n\n  get referrer () {\n    return this._referrer;\n  }\n\n  set title (value) {\n    const valid = validateString(value, 'page.title');\n    if (valid !== null) this._title = valid;\n  }\n\n  get title () {\n    return this._title || document.title;\n  }\n\n  set id (value) {\n    const valid = validateString(value, 'page.id');\n    if (valid !== null) this._id = valid;\n  }\n\n  get id () {\n    return this._id;\n  }\n\n  set author (value) {\n    const valid = validateString(value, 'page.author');\n    if (valid !== null) this._author = valid;\n  }\n\n  get author () {\n    return this._author;\n  }\n\n  set date (value) {\n    const valid = validateDate(value, 'page.date');\n    if (valid !== null) this._date = valid;\n  }\n\n  get date () {\n    return this._date;\n  }\n\n  get tags () {\n    return this._tags;\n  }\n\n  set name (value) {\n    const valid = validateString(value, 'page.name');\n    if (valid !== null) this._name = valid;\n  }\n\n  get name () {\n    return this._name || this.title;\n  }\n\n  get labels () {\n    return this._labels;\n  }\n\n  get categories () {\n    return this._categories;\n  }\n\n  set isError (value) {\n    const valid = validateBoolean(value, 'page.isError');\n    if (valid !== null) this._isError = valid;\n  }\n\n  get isError () {\n    return this._isError;\n  }\n\n  set template (value) {\n    const valid = validateString(value, 'page.template');\n    if (valid !== null) this._template = valid;\n  }\n\n  get template () {\n    return this._template || 'autres';\n  }\n\n  set segment (value) {\n    const valid = validateString(value, 'page.segment');\n    if (valid !== null) this._segment = valid;\n  }\n\n  get segment () {\n    return this._segment || this.template;\n  }\n\n  set group (value) {\n    const valid = validateString(value, 'page.group');\n    if (valid !== null) this._group = valid;\n  }\n\n  get group () {\n    return this._group || this.template;\n  }\n\n  set subtemplate (value) {\n    const valid = validateString(value, 'page.subtemplate');\n    if (valid !== null) this._subtemplate = valid;\n  }\n\n  get subtemplate () {\n    return this._subtemplate;\n  }\n\n  set theme (value) {\n    const valid = validateString(value, 'page.theme');\n    if (valid !== null) this._theme = valid;\n  }\n\n  get theme () {\n    return this._theme;\n  }\n\n  set subtheme (value) {\n    const valid = validateString(value, 'page.subtheme');\n    if (valid !== null) this._subtheme = valid;\n  }\n\n  get subtheme () {\n    return this._subtheme;\n  }\n\n  set related (value) {\n    const valid = validateString(value, 'page.related');\n    if (valid !== null) this._related = valid;\n  }\n\n  get related () {\n    return this._related;\n  }\n\n  set depth (value) {\n    const valid = validateNumber(value, 'page.depth');\n    if (valid !== null) this._depth = valid;\n  }\n\n  get depth () {\n    return this._depth;\n  }\n\n  set current (value) {\n    const valid = validateNumber(value, 'page.current');\n    if (valid !== null) this._current = valid;\n  }\n\n  get current () {\n    return this._current;\n  }\n\n  set total (value) {\n    const valid = validateNumber(value, 'page.total');\n    if (valid !== null) this._total = valid;\n  }\n\n  get total () {\n    return this._total;\n  }\n\n  get filters () {\n    return this._filters;\n  }\n\n  get layer () {\n    this._state = CollectionState.COLLECTED;\n    const layer = [];\n    if (this.path) layer.push('path', normalize(this.path));\n    if (this.referrer) layer.push('referrer', normalize(this.referrer));\n    if (this.title) layer.push('page_title', normalize(this.title));\n    if (this.name) layer.push('page_name', normalize(this.name));\n    if (this.id) layer.push('page_id', normalize(this.id));\n    if (this.author) layer.push('page_author', normalize(this.author));\n    if (this.date) layer.push('page_date', normalize(this.date));\n\n    const components = Object.keys(Inventory).map(id => document.querySelector(Inventory[id]) !== null ? id : null).filter(id => id !== null).join(',');\n    if (components) layer.push('page_components', components);\n\n    const labels = this._labels.slice(0, 5);\n    labels.length = 5;\n    if (labels.some(label => label)) layer.push('pagelabel', labels.map(label => typeof label === 'string' ? normalize(label) : '').join(','));\n\n    const tags = this._tags;\n    if (tags.some(tag => tag)) layer.push('pagetag', tags.map(tag => typeof tag === 'string' ? normalize(tag) : '').join(','));\n\n    this._categories.forEach((category, index) => {\n      if (category) layer.push(`page_category${index + 1}`, category);\n    });\n\n    if (this._isError) layer.push('error', '1');\n\n    layer.push('page_template', normalize(this.template));\n    layer.push('pagegroup', normalize(this.group));\n    layer.push('site-segment', normalize(this.segment));\n\n    if (this.subtemplate) layer.push('page_subtemplate', normalize(this.subtemplate));\n    if (this.theme) layer.push('page_theme', normalize(this.theme));\n    if (this.subtheme) layer.push('page_subtheme', normalize(this.subtheme));\n    if (this.related) layer.push('page_related', normalize(this.related));\n    if (!isNaN(this.depth)) layer.push('page_depth', this.depth);\n\n    if (!isNaN(this.current) && this.current > -1) {\n      let pagination = `${this.current}`;\n      if (!isNaN(this.total) && this.total > -1) pagination += `/${this.total}`;\n      layer.push('page_pagination', pagination);\n    }\n\n    if (this.filters.length && this.filters.some(label => label)) {\n      const filters = this.filters.map(filter => typeof filter === 'string' ? normalize(filter) : '');\n      layer.push('page_filters', filters.join(','));\n    }\n    return layer;\n  }\n}\n\nexport { Page };\n","const Method = {\n  STANDARD: {\n    id: 'standard',\n    value: 'standard',\n    isDefault: true\n  },\n  AUTOCOMPLETE: {\n    id: 'autocomplete',\n    value: 'autocompletion'\n  }\n};\n\nexport default Method;\n","import normalize from '../../utils/normalize';\nimport { validateNumber, validateString } from '../../utils/type-validator';\nimport Method from './mehod';\n\nclass Search {\n  constructor (config) {\n    this._config = config || {};\n  }\n\n  reset (clear = false) {\n    this.engine = clear ? undefined : this._config.engine;\n    this.results = clear || isNaN(this._config.results) ? -1 : this._config.results;\n    this.terms = clear ? undefined : this._config.terms;\n    this.category = clear ? undefined : this._config.category;\n    this.theme = clear ? undefined : this._config.theme;\n    this.type = clear ? undefined : this._config.type;\n    this.method = clear ? undefined : this._config.method;\n  }\n\n  set engine (value) {\n    const valid = validateString(value, 'search.engine');\n    if (valid !== null) this._engine = valid;\n  }\n\n  get engine () {\n    return this._engine;\n  }\n\n  set results (value) {\n    const valid = validateNumber(value, 'search.results');\n    if (valid !== null) this._results = valid;\n  }\n\n  get results () {\n    return this._results;\n  }\n\n  set terms (value) {\n    const valid = validateString(value, 'search.terms');\n    if (valid !== null) this._terms = valid;\n  }\n\n  get terms () {\n    return this._terms;\n  }\n\n  set category (value) {\n    const valid = validateString(value, 'search.category');\n    if (valid !== null) this._category = valid;\n  }\n\n  get category () {\n    return this._category;\n  }\n\n  set theme (value) {\n    const valid = validateString(value, 'search.theme');\n    if (valid !== null) this._theme = valid;\n  }\n\n  get theme () {\n    return this._theme;\n  }\n\n  set type (value) {\n    const valid = validateString(value, 'search.type');\n    if (valid !== null) this._type = valid;\n    this._type = value;\n  }\n\n  get type () {\n    return this._type;\n  }\n\n  set method (id) {\n    const methods = Object.values(Method);\n    this._method = methods.filter(method => method.id === id || method.value === id)[0] || methods.filter(method => method.isDefault)[0];\n  }\n\n  get method () {\n    return this._method;\n  }\n\n  get layer () {\n    const layer = [];\n    if (this.engine) layer.push('isearchengine', normalize(this.engine));\n    if (this.results > -1) layer.push('isearchresults', this.results);\n    if (this.terms) layer.push('isearchkey', 'search_terms', 'isearchdata', normalize(this.terms));\n    if (this.category) layer.push('isearchkey', 'search_category', 'isearchdata', normalize(this.category));\n    if (this.theme) layer.push('isearchkey', 'search_theme', 'isearchdata', normalize(this.theme));\n    if (this.type) layer.push('isearchkey', 'search_type', 'isearchdata', normalize(this.type));\n    if (this._method && layer.length) layer.push('isearchkey', 'search_method', 'isearchdata', this._method.value);\n    return layer;\n  }\n}\n\nSearch.Method = Method;\n\nexport { Search };\n","import normalize from '../../utils/normalize';\nimport { validateNumber, validateString } from '../../utils/type-validator';\n\nclass Funnel {\n  constructor (config) {\n    this._config = config || {};\n  }\n\n  reset (clear = false) {\n    this.id = clear ? undefined : this._config.id;\n    this.type = clear ? undefined : this._config.type;\n    this.name = clear ? undefined : this._config.name;\n    this.step = clear ? undefined : this._config.step;\n    this.current = clear || isNaN(this._config.current) ? -1 : this._config.current;\n    this.total = clear || isNaN(this._config.total) ? -1 : this._config.total;\n    this.objective = clear ? undefined : this._config.objective;\n    this.error = clear ? undefined : this._config.error;\n  }\n\n  set id (value) {\n    const valid = validateString(value, 'funnel.id');\n    if (valid !== null) this._id = valid;\n  }\n\n  get id () {\n    return this._id;\n  }\n\n  set type (value) {\n    const valid = validateString(value, 'funnel.type');\n    if (valid !== null) this._type = valid;\n  }\n\n  get type () {\n    return this._type;\n  }\n\n  set name (value) {\n    const valid = validateString(value, 'funnel.name');\n    if (valid !== null) this._name = valid;\n  }\n\n  get name () {\n    return this._name;\n  }\n\n  set step (value) {\n    const valid = validateString(value, 'funnel.step');\n    if (valid !== null) this._step = valid;\n  }\n\n  get step () {\n    return this._step;\n  }\n\n  set current (value) {\n    const valid = validateNumber(value, 'funnel.current');\n    if (valid !== null) this._current = valid;\n  }\n\n  get current () {\n    return this._current;\n  }\n\n  set total (value) {\n    const valid = validateNumber(value, 'funnel.total');\n    if (valid !== null) this._total = valid;\n  }\n\n  get total () {\n    return this._total;\n  }\n\n  set objective (value) {\n    const valid = validateString(value, 'funnel.objective');\n    if (valid !== null) this._objective = valid;\n    this._objective = value;\n  }\n\n  get objective () {\n    return this._objective;\n  }\n\n  set error (value) {\n    const valid = validateString(value, 'funnel.error');\n    if (valid !== null) this._error = valid;\n    this._error = value;\n  }\n\n  get error () {\n    return this._error;\n  }\n\n  get layer () {\n    const layer = [];\n    if (this.id) layer.push('funnel_id', normalize(this.id));\n    if (this.type) layer.push('funnel_type', normalize(this.type));\n    if (this.name) layer.push('funnel_name', normalize(this.name));\n    if (this.step) layer.push('funnel_step_name', normalize(this.step));\n    if (!isNaN(this.current) && this.current > -1) layer.push('funnel_step_number', this.current);\n    if (!isNaN(this.total) && this.total > -1) layer.push('funnel_step_max', this.total);\n    if (this.objective) layer.push('funnel_objective', normalize(this.objective));\n    if (this.error) layer.push('funnel_error', normalize(this.error));\n    return layer;\n  }\n}\n\nexport { Funnel };\n","const ActionMode = {\n  IN: 'in',\n  OUT: 'out',\n  NONE: 'none'\n};\n\nexport { ActionMode };\n","const ActionStatus = {\n  UNSTARTED: {\n    id: 'unstarted',\n    value: -1\n  },\n  STARTED: {\n    id: 'started',\n    value: 1\n  },\n  SINGULAR: {\n    id: 'singular',\n    value: 2\n  },\n  ENDED: {\n    id: 'ended',\n    value: 3\n  }\n};\n\nexport { ActionStatus };\n","import api from '../../../api.js';\nimport normalize from '../utils/normalize';\nimport { ActionMode } from './action-mode';\nimport { validateString } from '../utils/type-validator';\nimport { ActionStatus } from './action-status';\nimport { ActionRegulation } from './action-regulation';\n\nconst getParametersLayer = (data) => {\n  return Object.entries(data).map(([key, value]) => ['actionpname', normalize(key), 'actionpvalue', normalize(value)]).flat();\n};\n\nclass Action {\n  constructor (name) {\n    this._isMuted = false;\n    this._regulation = ActionRegulation.NONE;\n    this._name = name;\n    this._status = ActionStatus.UNSTARTED;\n    this._labels = [];\n    this._parameters = {};\n    this._sentData = [];\n  }\n\n  get isMuted () {\n    return this._isMuted;\n  }\n\n  set isMuted (value) {\n    this._isMuted = value;\n  }\n\n  get regulation () {\n    return this._regulation;\n  }\n\n  set regulation (value) {\n    if (Object.values(ActionRegulation).includes(value)) this._regulation = value;\n  }\n\n  get isSingular () {\n    return this._status === ActionStatus.SINGULAR;\n  }\n\n  get status () {\n    return this._status;\n  }\n\n  get name () {\n    return this._name;\n  }\n\n  get labels () {\n    return this._labels;\n  }\n\n  get reference () {\n    return this._reference;\n  }\n\n  get parameters () {\n    return this._parameters;\n  }\n\n  get mode () {\n    return this._mode;\n  }\n\n  singularize () {\n    this._status = ActionStatus.SINGULAR;\n  }\n\n  rewind () {\n    this._sentData = [];\n    this._status = ActionStatus.UNSTARTED;\n  }\n\n  addParameter (key, value) {\n    this._parameters[key] = value;\n  }\n\n  removeParameter (key) {\n    delete this._parameters[key];\n  }\n\n  set reference (value) {\n    const valid = validateString(value, `action ${this._name}`);\n    if (valid !== null) this._reference = valid;\n  }\n\n  get _base () {\n    return ['actionname', this._name];\n  }\n\n  _getLayer (data = {}) {\n    if (this._isMuted) return [];\n\n    if (this._mode !== ActionMode.IN) this._sentData.push(JSON.stringify(data));\n\n    const layer = this._base;\n    switch (this._mode) {\n      case ActionMode.IN:\n      case ActionMode.OUT:\n        layer.push('actionmode', this._mode);\n        break;\n    }\n\n    const labels = this._labels.slice(0, 5);\n    labels.length = 5;\n    if (labels.some(label => label)) layer.push('actionlabel', labels.map(label => typeof label === 'string' ? normalize(label) : '').join(','));\n\n    if (this._reference) layer.push('actionref', this._reference);\n\n    layer.push.apply(layer, getParametersLayer(Object.assign(this._parameters, data || {})));\n    return layer;\n  }\n\n  start (data) {\n    switch (this._status) {\n      case ActionStatus.UNSTARTED:\n        this._mode = ActionMode.IN;\n        this._status = ActionStatus.STARTED;\n        break;\n\n      case ActionStatus.SINGULAR:\n        this._mode = ActionMode.NONE;\n        this._status = ActionStatus.ENDED;\n        break;\n\n      default:\n        api.inspector.error(`unexpected start on action ${this._name} with status ${this._status.id}`);\n        return [];\n    }\n    return this._getLayer(data);\n  }\n\n  end (data) {\n    switch (this._status) {\n      case ActionStatus.STARTED:\n        this._mode = ActionMode.OUT;\n        this._status = ActionStatus.ENDED;\n        break;\n\n      case ActionStatus.UNSTARTED:\n        this._mode = ActionMode.NONE;\n        this._status = ActionStatus.ENDED;\n        break;\n\n      case ActionStatus.SINGULAR:\n        this._mode = ActionMode.NONE;\n        this._status = ActionStatus.ENDED;\n        break;\n\n      case ActionStatus.ENDED:\n        if (this._sentData.includes(JSON.stringify(data))) return [];\n        this._mode = ActionMode.NONE;\n        this._status = ActionStatus.ENDED;\n        break;\n\n      default:\n        return [];\n    }\n    return this._getLayer(data);\n  }\n\n  resume (data) {\n    if (this._isMuted) return [];\n    if (this._status.value >= ActionStatus.ENDED.value) {\n      api.inspector.error(`unexpected resuming on action ${this._name} with status ${this._status.id}`);\n      return [];\n    }\n    const layer = this._base;\n    if (data) layer.push.apply(layer, getParametersLayer(data));\n    return layer;\n  }\n}\n\nexport { Action };\n","import { ActionMode } from './action-mode';\nimport { Action } from './action';\n\nclass Actions {\n  constructor () {\n    this._actions = [];\n  }\n\n  rewind () {\n    this._actions.forEach(action => action.rewind());\n  }\n\n  getAction (name) {\n    let action = this._actions.filter(action => action.name === name)[0];\n    if (!action) {\n      action = new Action(name);\n      this._actions.push(action);\n    }\n    return action;\n  }\n\n  hasAction (name) {\n    return this._actions.some(action => action.name === name);\n  }\n\n  remove (action) {\n    const index = this._actions.indexOf(action);\n    if (index === -1) return false;\n    this._actions.splice(index, 1);\n    return true;\n  }\n}\n\nActions.ActionMode = ActionMode;\n\nconst actions = new Actions();\nActions.instance = actions;\n\nexport default actions;\n","import renderer from './renderer';\n\nclass Location {\n  constructor (onRouteChange, isListeningHash = false) {\n    this._onRouteChange = onRouteChange;\n    this._isListeningHash = isListeningHash;\n    this._update();\n    renderer.add(this);\n  }\n\n  _update () {\n    this._pathname = document.location.pathname;\n    this._search = document.location.search;\n    this._hash = document.location.hash;\n    this._path = `${this._pathname}${this._search}`;\n    if (this._isListeningHash) this._path += this._hash;\n    this._hasTitle = this._title === document.title;\n    this._title = document.title;\n  }\n\n  render () {\n    if (this._pathname !== document.location.pathname || this._search !== document.location.search) this.change();\n    if (this._isListeningHash && this._hash !== document.location.hash) this.change();\n  }\n\n  change () {\n    this._referrer = this._path;\n    this._update();\n    this._onRouteChange();\n  }\n\n  get path () {\n    return this._path;\n  }\n\n  get hasTitle () {\n    return this._hasTitle;\n  }\n\n  get title () {\n    return this._title;\n  }\n\n  get referrer () {\n    return this._referrer;\n  }\n}\n\nexport { Location };\n","import api from '../../../api.js';\n\nconst CollectorEvent = {\n  COLLECT: api.internals.ns.event('collect')\n};\n\nexport { CollectorEvent };\n","import api from '../../../api.js';\n\nexport const ActioneeEmission = {\n  REWIND: api.internals.ns.emission('analytics', 'rewind')\n};\n","export const ActionEnable = {\n  ENABLE: {\n    entries: ['enable', 'enabled', 'true', 'yes', '1', true],\n    value: true,\n    output: true\n  },\n  DISABLE: {\n    entries: ['disable', 'disabled', 'false', 'no', '0', false],\n    value: false,\n    output: false\n  },\n  REDUCE: {\n    entries: ['reduce'],\n    value: 'reduce',\n    output: false\n  }\n};\n","import Collection from './collection.js';\nimport api from '../../../api';\nimport { User } from '../collector/user/user';\nimport { Site } from '../collector/site/site';\nimport { Page } from '../collector/page/page';\nimport { Search } from '../collector/search/search';\nimport { Funnel } from '../collector/funnel/funnel';\nimport queue from './queue';\nimport renderer from './renderer';\nimport actions from '../action/actions';\nimport { Location } from './location';\nimport { CollectorEvent } from './collector-event';\nimport { ActioneeEmission } from '../../integration/core/actionee-emission';\nimport { ActionEnable } from './action-enable';\n\nclass Collector {\n  constructor (config) {\n    switch (config.collection) {\n      case Collection.MANUAL:\n      case Collection.LOAD:\n      case Collection.FULL:\n      case Collection.HASH:\n        this._collection = config.collection;\n        break;\n\n      default:\n        /* deprecated start */\n        if (config.mode) {\n          switch (config.mode) {\n            case 'manual':\n              this._collection = config.collection;\n              break;\n          }\n        }\n        /* deprecated end */\n\n        switch (true) {\n          /* deprecated */\n          case config.mode === 'manual':\n            this._collection = Collection.MANUAL;\n            break;\n\n          case api.mode === api.Modes.ANGULAR:\n          case api.mode === api.Modes.REACT:\n          case api.mode === api.Modes.VUE:\n            this._collection = Collection.FULL;\n            break;\n\n          default:\n            this._collection = Collection.LOAD;\n        }\n    }\n\n    this.isActionEnabled = config.isActionEnabled;\n\n    this._user = new User(config.user);\n    this._site = new Site(config.site);\n    this._page = new Page(config.page);\n    this._search = new Search(config.search);\n    this._funnel = new Funnel(config.funnel);\n\n    this._delay = -1;\n    queue.setCollector(this);\n  }\n\n  get page () {\n    return this._page;\n  }\n\n  get user () {\n    return this._user;\n  }\n\n  get site () {\n    return this._site;\n  }\n\n  get search () {\n    return this._search;\n  }\n\n  get funnel () {\n    return this._funnel;\n  }\n\n  start () {\n    const handleRouteChange = this._handleRouteChange.bind(this);\n    switch (this._collection) {\n      case Collection.LOAD:\n        this.collect();\n        break;\n\n      case Collection.FULL:\n        this.collect();\n        this._location = new Location(handleRouteChange);\n        break;\n\n      case Collection.HASH:\n        this.collect();\n        this._location = new Location(handleRouteChange, true);\n        break;\n    }\n  }\n\n  _handleRouteChange () {\n    queue.send(true);\n    this._delay = 6;\n    renderer.add(this);\n  }\n\n  render () {\n    this._delay--;\n    if (this._delay < 0) {\n      renderer.remove(this);\n      this._routeChanged();\n    }\n  }\n\n  _routeChanged () {\n    actions.rewind();\n    this._page.referrer = this._location.referrer;\n    if (this._location.hasTitle) this._page.title = this._location.title;\n    this._page.path = this._location.path;\n    const event = new CustomEvent(CollectorEvent.COLLECT);\n    document.documentElement.dispatchEvent(event);\n    this.collect();\n    if (api.internals && api.internals.stage && api.internals.stage.root) api.internals.stage.root.descend(ActioneeEmission.REWIND);\n  }\n\n  reset (clear = false) {\n    this._user.reset(clear);\n    this._site.reset(clear);\n    this._page.reset(clear);\n    this._search.reset(clear);\n    this._funnel.reset(clear);\n  }\n\n  collect () {\n    if (!this.page.collecting()) return;\n    queue.collect();\n  }\n\n  get collection () {\n    return this._collection;\n  }\n\n  get isCollecting () {\n    return this._page.isCollecting;\n  }\n\n  get isActionEnabled () {\n    return this._isActionEnabled.value;\n  }\n\n  set isActionEnabled (value) {\n    this._isActionEnabled = Object.values(ActionEnable).find(enable => enable.entries.includes(value)) || ActionEnable.DISABLE;\n  }\n\n  get isActionReduced () {\n    return this._isActionEnabled === ActionEnable.REDUCE;\n  }\n\n  get layer () {\n    return [\n      ...this._user.layer,\n      ...this._site.layer,\n      ...this._page.layer,\n      ...this._search.layer,\n      ...this._funnel.layer\n    ];\n  }\n}\n\nexport { Collector };\n","import api from '../../api.js';\nimport Collection from './engine/collection';\nimport { Init } from './facade/init';\nimport { ConsentManagerPlatform } from './cmp/consent-manager-platform';\nimport push from './facade/push';\nimport PushType from './facade/push-type';\nimport queue from './engine/queue';\nimport opt from './facade/opt';\nimport debug from './facade/debug';\nimport { Collector } from './engine/collector';\n\nclass Analytics {\n  constructor () {\n    this._isReady = false;\n    this._readiness = new Promise((resolve, reject) => {\n      if (this._isReady) resolve();\n      else {\n        this._resolve = resolve;\n        this._reject = reject;\n      }\n    });\n    this._configure();\n  }\n\n  _configure () {\n    switch (true) {\n      case api.internals !== undefined && api.internals.configuration !== undefined && api.internals.configuration.analytics !== undefined && api.internals.configuration.analytics.domain !== undefined:\n        this._config = api.internals.configuration.analytics;\n        this._build();\n        break;\n\n      case api.analytics !== undefined && api.analytics.domain !== undefined:\n        this._config = api.analytics;\n        this._build();\n        break;\n\n      default:\n        api.inspector.warn('analytics configuration is incorrect or missing (required : domain)');\n    }\n  }\n\n  _build () {\n    this._init = new Init(this._config.domain);\n    this._init.configure().then(this._start.bind(this), (reason) => this._reject(reason));\n  }\n\n  get isReady () {\n    return this._isReady;\n  }\n\n  get readiness () {\n    return this._readiness;\n  }\n\n  _start () {\n    if (this._isReady) return;\n\n    this._cmp = new ConsentManagerPlatform(this._config.cmp);\n    this._collector = new Collector(this._config);\n    this._collector.reset();\n\n    this._isReady = true;\n    this._resolve();\n\n    queue.start();\n    this._collector.start();\n  }\n\n  get page () {\n    return this._collector.page;\n  }\n\n  get user () {\n    return this._collector.user;\n  }\n\n  get site () {\n    return this._collector._site;\n  }\n\n  get search () {\n    return this._collector.search;\n  }\n\n  get funnel () {\n    return this._collector.funnel;\n  }\n\n  get cmp () {\n    return this._cmp;\n  }\n\n  get opt () {\n    return opt;\n  }\n\n  get collection () {\n    return this._collector.collection;\n  }\n\n  get isActionEnabled () {\n    return this._collector.isActionEnabled;\n  }\n\n  set isActionEnabled (value) {\n    this._collector.isActionEnabled = value;\n  }\n\n  get isDebugging () {\n    return debug.isActive;\n  }\n\n  set isDebugging (value) {\n    debug.isActive = value;\n  }\n\n  push (type, layer) {\n    push(type, layer);\n  }\n\n  reset (clear = false) {\n    this._collector.reset();\n  }\n\n  collect () {\n    this._collector.collect();\n  }\n}\n\nconst analytics = new Analytics();\n\nanalytics.Collection = Collection;\nanalytics.PushType = PushType;\n\nexport default analytics;\n","import api from './api.js';\nimport analytics from './script/analytics/analytics';\nimport { completeAssign } from '../core/script/api/utilities/property/complete-assign';\n\napi.analytics = completeAssign(analytics, {});\n\nexport default api;\n","/**\n * Copy properties from multiple sources including accessors.\n * source : https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#copier_des_accesseurs\n *\n * @param {object} [target] - Target object to copy into\n * @param {...objects} [sources] - Multiple objects\n * @return {object} A new object\n *\n * @example\n *\n *     const obj1 = {\n *        key: 'value'\n *     };\n *     const obj2 = {\n *        get function01 () {\n *          return a-value;\n *        }\n *        set function01 () {\n *          return a-value;\n *        }\n *     };\n *     completeAssign(obj1, obj2)\n */\nconst completeAssign = (target, ...sources) => {\n  sources.forEach(source => {\n    const descriptors = Object.keys(source).reduce((descriptors, key) => {\n      descriptors[key] = Object.getOwnPropertyDescriptor(source, key);\n      return descriptors;\n    }, {});\n\n    Object.getOwnPropertySymbols(source).forEach(sym => {\n      const descriptor = Object.getOwnPropertyDescriptor(source, sym);\n      if (descriptor.enumerable) {\n        descriptors[sym] = descriptor;\n      }\n    });\n    Object.defineProperties(target, descriptors);\n  });\n  return target;\n};\n\nexport { completeAssign };\n","export const Type = {\n  // impression\n  IMPRESSION: {\n    id: 'impression', // element appeared in the page\n    isSingular: true,\n    isBeginning: true,\n    attributed: false,\n    type: 'impression'\n  },\n  // interaction\n  CLICK: {\n    id: 'click', // generic click interaction\n    isBeginning: true,\n    attributed: true,\n    type: 'interaction',\n    event: 'click',\n    method: 'eventListener'\n  },\n  INTERNAL: {\n    id: 'internal', // anchor click redirecting on an internal url\n    isBeginning: true,\n    attributed: true,\n    type: 'interaction',\n    event: 'click',\n    method: 'eventListener'\n  },\n  EXTERNAL: {\n    id: 'external', // anchor click redirecting on an external url\n    isBeginning: true,\n    attributed: true,\n    type: 'interaction',\n    event: 'click',\n    method: 'eventListener'\n  },\n  DOWNLOAD: {\n    id: 'download', // anchor click downloading a file\n    isBeginning: true,\n    attributed: true,\n    type: 'interaction',\n    event: 'click',\n    method: 'eventListener'\n  },\n  BUTTON: {\n    id: 'button', // button click\n    isBeginning: true,\n    attributed: true,\n    type: 'interaction',\n    event: 'click',\n    method: 'eventListener'\n  },\n  DOUBLE_CLICK: {\n    id: 'dblclick', // double click\n    isBeginning: true,\n    attributed: true,\n    type: 'interaction',\n    event: 'dblclick',\n    method: 'eventListener'\n  },\n  // event\n  OPEN: {\n    id: 'open', // open event\n    isSingular: true,\n    attributed: false,\n    type: 'event',\n    method: 'eventListener'\n  },\n  COMPLETE: {\n    id: 'complete', // complete event\n    isSingular: true,\n    attributed: false,\n    type: 'event',\n    method: 'eventListener'\n  },\n  FOCUS: {\n    id: 'focus', // focus event\n    isSingular: true,\n    attributed: false,\n    type: 'event',\n    method: 'eventListener'\n  },\n  ERROR: {\n    id: 'error', // error event\n    isSingular: true,\n    attributed: false,\n    type: 'event'\n  },\n  ADD: {\n    id: 'add', // add event\n    isSingular: true,\n    attributed: false,\n    type: 'event'\n  },\n  REMOVE: {\n    id: 'remove', // remove event\n    isSingular: true,\n    attributed: false,\n    type: 'event'\n  },\n  DISPLAY: {\n    id: 'display', // display event\n    isSingular: true,\n    attributed: false,\n    type: 'event'\n  },\n  CHANGE: {\n    id: 'change', // input event change\n    isSingular: true,\n    attributed: true,\n    type: 'event',\n    event: 'change',\n    method: 'change'\n  },\n  PROGRESS: {\n    id: 'progress', // video retention event with percent of the part reached\n    isBeginning: true,\n    attributed: true,\n    type: 'event'\n  },\n  // component interaction\n  SHARE: {\n    id: 'share', // component share click (share)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  PRESS: {\n    id: 'press', // component press click (pressable tag)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  RELEASE: {\n    id: 'release', // component release click (pressable tag)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  DISMISS: {\n    id: 'dismiss', // component dismiss click (dismissible tag)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  UPLOAD: {\n    id: 'upload', // component upload click (upload)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  CHECK: {\n    id: 'check', // component check click (checkbox, radio, toggle)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  UNCHECK: {\n    id: 'uncheck', // component uncheck click (checkbox, radio, toggle)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  SELECT: {\n    id: 'select', // component select change (select)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  SUBSCRIBE: {\n    id: 'subscribe', // component subscribe click (follow)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  // component event\n  DISCLOSE: {\n    id: 'disclose', // component disclose event (accordion, modal, tab)\n    isBeginning: true,\n    attributed: false,\n    type: 'event'\n  },\n  SEARCH: {\n    id: 'search', // component disclose event (accordion, modal, tab)\n    isBeginning: true,\n    attributed: false,\n    type: 'event'\n  },\n  SHOW: {\n    id: 'show', // component show event (tooltip)\n    isSingular: true,\n    attributed: false,\n    type: 'event'\n  },\n  HIDE: {\n    id: 'hide', // component hide event (tooltip)\n    isSingular: true,\n    attributed: false,\n    type: 'event'\n  },\n  // video\n  AUTOPLAY: {\n    id: 'autoplay', // video autoplay event\n    isBeginning: true,\n    attributed: false,\n    type: 'event'\n  },\n  PLAY: {\n    id: 'play', // video play click\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  PAUSE: {\n    id: 'pause', // video pause click\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  END: {\n    id: 'end', // video end event\n    isBeginning: true,\n    attributed: false,\n    type: 'event'\n  }\n};\n\nexport default Type;\n","const Type = {\n  UNDEFINED: 'undefined',\n  HEADING: 'heading',\n  COMPONENT: 'component',\n  CONTENT: 'content'\n};\n\nexport { Type };\n","import api from '../../../../api';\nimport { Type } from './type';\n\nconst NODE_POSITION = Node.DOCUMENT_POSITION_PRECEDING | Node.DOCUMENT_POSITION_CONTAINED_BY;\n\nclass Heading {\n  constructor (heading) {\n    this._label = heading.textContent.trim();\n    this._level = Number(heading.tagName.charAt(1));\n  }\n\n  get level () {\n    return this._level;\n  }\n\n  get label () {\n    return this._label;\n  }\n}\n\nclass Member {\n  constructor (node, target, level) {\n    this._type = Type.UNDEFINED;\n    this._node = node;\n    this._target = target;\n    this._level = level;\n    this._label = '';\n    this._component = '';\n    this._isValid = true;\n    this.analyse();\n  }\n\n  _parseHeadings () {\n    const selector = Array.from({ length: this._level }, (v, i) => `h${i + 1}`).join(',');\n    this._headings = Array.from(this._node.querySelectorAll(selector)).filter(heading => heading === this._node || heading.parentNode === this._node || (heading.parentNode != null && heading.parentNode.parentNode === this._node)).filter(heading => (this._target.compareDocumentPosition(heading) & NODE_POSITION) > 0).map(heading => new Heading(heading)).reverse();\n  }\n\n  _getComponent () {\n    if (typeof api !== 'function') return false;\n    const element = api(this._node);\n    if (!element) return false;\n    const instance = Object.values(element).filter(actionee => actionee.isActionee).sort((a, b) => b.priority - a.priority)[0];\n    if (!instance) return false;\n\n    this._type = Type.COMPONENT;\n    this._isValid = instance.validate(this._target);\n    const selector = Array.from({ length: 6 }, (v, i) => `h${i + 1}`).join(',');\n    const top = Array.from(this._node.querySelectorAll(selector)).map(heading => new Heading(heading)).sort((a, b) => a.level - b.level)[0];\n    if (top && top.level <= this._level) this._level = top.level - 1;\n\n    const hx = this._node.closest(selector);\n    if (hx) {\n      const heading = new Heading(hx);\n      if (heading.level <= this._level) this._level = heading.level - 1;\n    }\n\n    if (!isNaN(instance.level) && instance.level < this._level) this._level = instance.level;\n    this._label = instance.label;\n    this._component = instance.component;\n    return true;\n  }\n\n  _getHeading () {\n    if (!this._headings.length) return false;\n    const labels = [];\n    this._headings.forEach(heading => {\n      if (heading.level <= this._level) {\n        if (heading.level > 1) labels.unshift(heading.label);\n        this._level = heading.level - 1;\n      }\n    });\n    if (!labels.length) return false;\n    this._type = Type.HEADING;\n    this._label = labels.join(' › ');\n    return true;\n  }\n\n  analyse () {\n    this._parseHeadings();\n    if (this._getComponent()) return;\n    if (this._getHeading()) return;\n    if (this._node !== this._target) return;\n\n    const label = this._node.textContent.trim();\n    if (!label) return;\n    this._type = Type.CONTENT;\n    this._label = label;\n  }\n\n  get type () {\n    return this._type;\n  }\n\n  get level () {\n    return this._level;\n  }\n\n  get label () {\n    return this._label;\n  }\n\n  get component () {\n    return this._component;\n  }\n\n  get node () {\n    return this._node;\n  }\n\n  get target () {\n    return this._target;\n  }\n\n  get isValid () {\n    return this._isValid;\n  }\n}\n\nexport { Member };\n","import normalize from '../normalize';\nimport { Member } from './member';\nimport { Type } from './type';\n\nclass Hierarchy {\n  constructor (node) {\n    this._node = node;\n    this._process();\n  }\n\n  _process () {\n    // console.log('_______________ start ____________________');\n    const member = new Member(this._node, this._node, 6);\n    // console.log('- FIRST MEMBER', member);\n    this._level = member.level;\n    this._members = [member];\n\n    let node = this._node.parentNode;\n\n    while (document.documentElement.contains(node) && node !== document.documentElement && this._level > 0) {\n      // console.log('MEMBERS ARRAY', this._members);\n      // console.log('NODE ANALYSIS', node);\n      const member = new Member(node, this._node, this._level);\n      // console.log('NEW MEMBER', member);\n      switch (true) {\n        case member.type === Type.UNDEFINED:\n          // console.log('****UNDEFINED');\n          break;\n\n        case !member.isValid:\n          // console.log('****INVALID');\n          break;\n\n        case member.label === this._members[0].label && member.type === Type.HEADING && this._members[0].type === Type.COMPONENT:\n          // console.log('***** SAME');\n          // do nothing\n          break;\n\n        case member.label === this._members[0].label && member.type === Type.COMPONENT && this._members[0].type === Type.HEADING:\n          // console.log('***** SAME INVERT');\n          this._members.splice(0, 1, member);\n          break;\n\n        default:\n          this._members.unshift(member);\n          if (member.level < this._level) this._level = member.level;\n      }\n\n      node = node.parentNode;\n    }\n\n    this._label = normalize(this._members[this._members.length - 1].label);\n    this._title = normalize(this._members.filter(member => member.label).map(member => member.label).join(' › '));\n    const components = this._members.filter(member => member.component).map(member => member.component);\n    this._component = normalize(components.join(' › '));\n    this._localComponent = components[components.length - 1];\n    this._globalComponent = components[0];\n\n    // console.log('========= end ===========');\n  }\n\n  get localComponent () {\n    return this._localComponent;\n  }\n\n  get globalComponent () {\n    return this._globalComponent;\n  }\n\n  get label () {\n    return this._label;\n  }\n\n  get title () {\n    return this._title;\n  }\n\n  get component () {\n    return this._component;\n  }\n}\n\nexport { Hierarchy };\n","import api from '../../../api';\nimport actions from './actions';\nimport { Hierarchy } from '../utils/hierarchy/hierarchy';\nimport queue from '../engine/queue';\nimport { ActionRegulation } from './action-regulation';\n\nclass ActionElement {\n  constructor (node, type, id, category = '', title = null, parameters = {}, isRating = false, regulation = ActionRegulation.NONE) {\n    this._node = node;\n    this._type = type;\n    this._id = id || this._node.id;\n    this._isMuted = false;\n    this._title = title;\n    this._category = category;\n    this._parameters = parameters;\n    this._isRating = isRating;\n    this._regulation = regulation;\n    this._hasBegun = false;\n\n    // this._init();\n    requestAnimationFrame(this._init.bind(this));\n  }\n\n  _init () {\n    this._hierarchy = new Hierarchy(this._node);\n\n    let id = '';\n    let type = '';\n    if (this._id) id = `_[${this._id}]`;\n    else api.inspector.warn(`Analytics API requires an id to be set on tracked element. Missing on ${this._node.outerHTML}`);\n    if (this._type) type = `(${this._type.id})_`;\n    this._name = `${type}${this._title || this._hierarchy.title}${id}`;\n\n    this._action = actions.getAction(this._name, this._type.status);\n    if (this._type.isSingular) this._action.singularize();\n    Object.keys(this._parameters).forEach(key => this._action.addParameter(key, this._parameters[key]));\n    this._action.isMuted = this._isMuted;\n    this._action.regulation = this._regulation;\n\n    this._action.labels[0] = this._type.id;\n    this._action.labels[1] = this._hierarchy.globalComponent;\n    this._action.labels[2] = this._hierarchy.localComponent;\n    this._action.labels[4] = this._category;\n\n    if (this._hierarchy.label) this._action.addParameter('component_label', this._hierarchy.label);\n    if (this._hierarchy.title) this._action.addParameter('heading_hierarchy', this._hierarchy.title);\n    if (this._hierarchy.component) this._action.addParameter('component_hierarchy', this._hierarchy.component);\n\n    this.begin();\n  }\n\n  get isMuted () {\n    return this._action ? this._action.isMuted : this._isMuted;\n  }\n\n  set isMuted (value) {\n    this._isMuted = value;\n    if (this._action) this._action.isMuted = value;\n  }\n\n  get regulation () {\n    return this._regulation;\n  }\n\n  set regulation (value) {\n    this._regulation = value;\n    if (this._action) this._action.regulation = value;\n  }\n\n  get action () {\n    return this._action;\n  }\n\n  rewind () {\n    this._hasBegun = false;\n    this.begin();\n  }\n\n  begin (data = {}) {\n    if (this._hasBegun) return;\n    this._hasBegun = true;\n    if (this._type.isBeginning && (this._type.isSingular || this._isRating)) queue.appendStartingAction(this._action, data);\n  }\n\n  act (data = {}) {\n    if (this._isMuted) return;\n    if (!this._action) {\n      requestAnimationFrame(() => this.act(data));\n      return;\n    }\n    queue.appendEndingAction(this._action, data);\n  }\n\n  dispose () {\n    actions.remove(this._action);\n  }\n}\n\nexport { ActionElement };\n","import api from '../../../api.js';\nimport { Type } from '../../analytics/action/type';\nimport { ActionElement } from '../../analytics/action/action-element';\nimport { ActioneeEmission } from './actionee-emission';\nimport { ActionRegulation } from '../../analytics/action/action-regulation';\nimport normalize from '../../analytics/utils/normalize';\n\nconst ActionAttributes = {\n  RATING: api.internals.ns.attr('analytics-rating'),\n  ACTION: api.internals.ns.attr('analytics-action')\n};\n\nclass Actionee extends api.core.Instance {\n  constructor (priority = -1, category = '', title = null, regulation = ActionRegulation.NONE) {\n    super();\n    this._type = null;\n    this._priority = priority;\n    this._category = category;\n    this._title = title;\n    this._parameters = {};\n    this._data = {};\n    this._isMuted = false;\n    this._regulation = regulation;\n  }\n\n  static get instanceClassName () {\n    return 'Actionee';\n  }\n\n  get proxy () {\n    const scope = this;\n\n    const proxy = {\n      validate: (target, members) => scope.validate(target, members)\n    };\n\n    const proxyAccessors = {\n      get isActionee () {\n        return true;\n      },\n      get label () {\n        return scope.label;\n      },\n      get priority () {\n        return scope.priority;\n      },\n      get level () {\n        return scope.level;\n      },\n      get node () {\n        return scope.node; // TODO: remove in v2\n      },\n      get act () {\n        return scope.act.bind(scope);\n      }\n    };\n\n    return api.internals.property.completeAssign(super.proxy, proxy, proxyAccessors);\n  }\n\n  get data () {\n    return this._data;\n  }\n\n  _config (element, registration) {\n    super._config(element, registration);\n\n    if (this._type === null) {\n      this._sort(element);\n      this._isMuted = true;\n      return;\n    }\n\n    const regulation = this.getRegulation();\n    this._regulation = regulation !== ActionRegulation.NONE ? regulation : this._regulation;\n    const actionAttribute = this.getAttribute(ActionAttributes.ACTION);\n    const title = typeof actionAttribute === 'string' && actionAttribute.toLowerCase() !== 'false' && actionAttribute.toLowerCase() !== 'true' ? normalize(actionAttribute) : this._title;\n    this._isRating = this.hasAttribute(ActionAttributes.RATING);\n\n    this._actionElement = new ActionElement(this.node, this._type, this.id, this._category, title, this._parameters, this._isRating, this._regulation);\n    if (this._isMuted) this._actionElement.isMuted = true;\n\n    this.addDescent(ActioneeEmission.REWIND, this.rewind.bind(this));\n\n    this._sort(element);\n  }\n\n  getRegulation () {\n    const actionAttribute = this.getAttribute(ActionAttributes.ACTION);\n    switch (true) {\n      case typeof actionAttribute === 'string' && actionAttribute.toLowerCase() === 'false':\n        return ActionRegulation.PREVENT;\n      case actionAttribute !== null:\n        return ActionRegulation.ENFORCE;\n      default:\n        return ActionRegulation.NONE;\n    }\n  }\n\n  mutate (attributeNames) {\n    if (attributeNames.includes(ActionAttributes.ACTION)) {\n      const regulation = this.getRegulation();\n      if (this._regulation !== regulation) {\n        this._regulation = regulation;\n        if (this._actionElement) this._actionElement.regulation = regulation;\n      }\n    }\n    super.mutate(attributeNames);\n  }\n\n  _sort (element) {\n    const actionees = element.instances.filter(instance => instance.isActionee).sort((a, b) => b.priority - a.priority);\n    if (actionees.length <= 1) return;\n    actionees.forEach((actionee, index) => { actionee.isMuted = index > 0; });\n  }\n\n  get isMuted () {\n    return this._actionElement ? this._actionElement.isMuted : this._isMuted;\n  }\n\n  set isMuted (value) {\n    this._isMuted = value;\n    if (this._actionElement) this._actionElement.isMuted = value;\n  }\n\n  get priority () {\n    return this._priority;\n  }\n\n  setPriority (value) {\n    this._priority = value;\n  }\n\n  get isInteractive () {\n    return this.node.tagName === 'A' || this.node.tagName === 'BUTTON';\n  }\n\n  detectInteractionType (node) {\n    if (!node) node = this.node;\n    const tag = node.tagName;\n    const href = node.getAttribute('href');\n    const isDownload = node.hasAttribute('download');\n    const hostname = node.hostname;\n\n    switch (true) {\n      case tag !== 'A':\n        this._type = Type.CLICK;\n        break;\n\n      case isDownload:\n        this._type = Type.DOWNLOAD;\n        this.value = href;\n        break;\n\n      case hostname === location.hostname :\n        this._type = Type.INTERNAL;\n        this.value = href;\n        break;\n\n      case hostname.length > 0 :\n        this._type = Type.EXTERNAL;\n        this.value = href;\n        break;\n\n      default:\n        this._type = Type.CLICK;\n        break;\n    }\n  }\n\n  setClickType () {\n    this._type = Type.CLICK;\n  }\n\n  listenActionClick (target) {\n    if (target) {\n      this._clickTarget = target;\n      this._clickTarget.addEventListener('click', this._handlingClick, { capture: true });\n    } else this.listenClick({ capture: true });\n  }\n\n  handleClick () {\n    this.act();\n  }\n\n  setImpressionType () {\n    this._type = Type.IMPRESSION;\n  }\n\n  rewind () {\n    if (this._actionElement) this._actionElement.rewind();\n  }\n\n  act (data = {}) {\n    if (this._actionElement !== undefined) {\n      this._data.component_value = this.value;\n      this._actionElement.act(Object.assign(this._data, data));\n    }\n  }\n\n  getFirstText (node) {\n    if (!node) node = this.node;\n    if (node.childNodes && node.childNodes.length > 0) {\n      for (let i = 0; i < node.childNodes.length; i++) {\n        if (node.childNodes[i].nodeType === Node.TEXT_NODE) {\n          const text = node.childNodes[i].textContent.trim();\n          if (text) {\n            return this.cropText(text);\n          }\n        }\n      }\n\n      for (let i = 0; i < node.childNodes.length; i++) {\n        const text = this.getFirstText(node.childNodes[i]);\n        if (text) {\n          return this.cropText(text);\n        }\n      }\n    }\n    return '';\n  }\n\n  cropText (text, length = 50) {\n    return text.length > 50 ? `${text.substring(0, 50).trim()}[...]` : text;\n  }\n\n  getInteractionLabel () {\n    const title = this.getAttribute('title');\n    if (title) return this.cropText(title);\n\n    const text = this.getFirstText();\n    if (text) return text;\n\n    const img = this.node.querySelector('img');\n    if (img) {\n      const alt = img.getAttribute('alt');\n      if (alt) return this.cropText(alt);\n    }\n\n    return null;\n  }\n\n  getHeadingLabel (length = 6) {\n    const selector = Array.from({ length: length }, (v, i) => `h${i + 1}`).join(',');\n    const headings = Array.from(this.querySelectorAll(selector)).filter(heading => (this.node.compareDocumentPosition(heading) & Node.DOCUMENT_POSITION_CONTAINED_BY) > 0);\n    if (headings.length) {\n      for (const heading of headings) {\n        const text = this.getFirstText(heading);\n        if (text) return text;\n      }\n    }\n  }\n\n  detectLevel (node) {\n    if (!node) node = this.node;\n    const selector = Array.from({ length: 6 }, (v, i) => `h${i + 1}`).join(',');\n    const levels = Array.from(node.querySelectorAll(selector)).map(heading => Number(heading.tagName.charAt(1)));\n    if (levels.length) this._level = Math.min.apply(null, levels) - 1;\n  }\n\n  validate (target) {\n    return true;\n  }\n\n  get actionElement () {\n    return this._actionElement;\n  }\n\n  get label () {\n    return null;\n  }\n\n  get value () {\n    return this._value || this.label;\n  }\n\n  set value (value) {\n    this._value = value;\n  }\n\n  get isActionee () {\n    return true;\n  }\n\n  get level () {\n    return this._level;\n  }\n\n  get type () {\n    return this._type;\n  }\n\n  dispose () {\n    if (this._clickTarget) {\n      this._clickTarget.removeEventListener('click', this._handlingClick);\n    }\n    super.dispose();\n  }\n}\n\nexport { Actionee };\n","import Type from '../../analytics/action/type';\nimport { Actionee } from '../core/actionee';\nimport { ActionRegulation } from '../../analytics/action/action-regulation';\n\nclass AttributeActionee extends Actionee {\n  constructor () {\n    super(100, '', null, ActionRegulation.ENFORCE);\n  }\n\n  static get instanceClassName () {\n    return 'AttributeActionee';\n  }\n\n  init () {\n    this._attribute = this.registration.selector.replace(/[[\\]]/g, '');\n    const id = this._attribute.split('-').pop();\n    this._type = Object.values(Type).filter(type => type.id === id)[0];\n    this._title = this.getAttribute(this._attribute);\n    if (this._type === Type.CLICK) this.detectInteractionType();\n\n    switch (this._type.method) {\n      case 'eventListener':\n        this.listen(this._type.event, this.handleEvent.bind(this));\n        break;\n\n      case 'change':\n        this.listen(this._type.event, this.handleChange.bind(this));\n        break;\n    }\n  }\n\n  handleEvent (e) {\n    this._actionElement.act();\n  }\n\n  handleChange (e) {\n    this._actionElement.act({ change_value: e.target.value });\n  }\n\n  dispose () {\n    this._actionElement.dispose();\n    super.dispose();\n  }\n}\n\nexport { AttributeActionee };\n","import api from '../../../api';\nimport Type from '../../analytics/action/type';\nimport { AttributeActionee } from './attribute-actionee';\n\nconst integrateAttributes = () => {\n  Object.values(Type)\n    .filter(type => type.attributed)\n    .forEach(type => api.internals.register(api.internals.ns.attr.selector(`analytics-${type.id}`), AttributeActionee));\n};\n\nexport default integrateAttributes;\n","import api from '../../../../api.js';\n\nexport const ButtonEmission = {\n  CLICK: api.internals.ns.emission('button', 'click')\n};\n","import api from '../../../api.js';\nimport { Type } from '../../analytics/action/type';\nimport { Actionee } from '../core/actionee';\nimport { ButtonEmission } from './button/button-emission';\n\nclass ComponentActionee extends Actionee {\n  constructor (priority = -1) {\n    super(priority, 'dsfr_component');\n  }\n\n  static get instanceClassName () {\n    return 'ComponentActionee';\n  }\n\n  get proxy () {\n    const scope = this;\n\n    const proxyAccessors = {\n      get component () {\n        return scope.component;\n      }\n    };\n\n    return api.internals.property.completeAssign(super.proxy, proxyAccessors);\n  }\n\n  setDiscloseType () {\n    this._type = Type.DISCLOSE;\n  }\n\n  listenDisclose () {\n    this.listen(api.core.DisclosureEvent.DISCLOSE, this._handleDisclose.bind(this), { capture: true });\n  }\n\n  _handleDisclose () {\n    this.act();\n  }\n\n  setChangeType () {\n    this._type = Type.CHANGE;\n  }\n\n  listenChange () {\n    this.listen('change', this._handleChange.bind(this), { capture: true });\n  }\n\n  _handleChange (e) {\n    if (e.target && e.target.value) {\n      this.setChangeValue(e);\n      this.act();\n    }\n  }\n\n  setChangeValue (e) {\n    this.value = e.target.value;\n  }\n\n  listenInputValidation (node, type = Type.CLICK, isSendingInputValue = false) {\n    if (!node) node = this.node;\n    this._type = type;\n    this._isSendingInputValue = isSendingInputValue;\n    this.addAscent(ButtonEmission.CLICK, this._actValidatedInput.bind(this));\n    const button = this.element.getDescendantInstances('ButtonActionee', null, true)[0];\n    if (button) button.isMuted = true;\n    this._validatedInput = node.querySelector('input');\n    this._handlingInputValidation = this._handleInputValidation.bind(this);\n    if (this._validatedInput) this._validatedInput.addEventListener('keydown', this._handlingInputValidation);\n  }\n\n  _handleInputValidation (e) {\n    if (e.keyCode === 13) this._actValidatedInput();\n  }\n\n  _actValidatedInput () {\n    if (this._isActingValidatedInput) return;\n    this._isActingValidatedInput = true;\n    if (this._isSendingInputValue) this.value = this._validatedInput.value.trim();\n    this.act();\n    this.request(this._actedValidatedInput.bind(this));\n  }\n\n  _actedValidatedInput () {\n    this._isActingValidatedInput = false;\n  }\n\n  setCheckType () {\n    this._type = Type.CHECK;\n  }\n\n  detectCheckableType () {\n    const isChecked = this.node.checked;\n    this._type = isChecked ? Type.UNCHECK : Type.CHECK;\n  }\n\n  listenCheckable () {\n    this.listen('change', this._handleCheckable.bind(this), { capture: true });\n  }\n\n  _handleCheckable (e) {\n    if (e.target && e.target.value !== 'on') {\n      this.value = e.target.value;\n    }\n\n    switch (true) {\n      case this._type === Type.CHECK && e.target.checked:\n      case this._type === Type.UNCHECK && !e.target.checked:\n        this.act();\n        break;\n    }\n  }\n\n  detectPressableType () {\n    const isPressable = this.node.hasAttribute('aria-pressed');\n    if (isPressable) {\n      const isPressed = this.node.getAttribute('aria-pressed') === 'true';\n      this._type = isPressed ? Type.RELEASE : Type.PRESS;\n    }\n    return isPressable;\n  }\n\n  listenPressable () {\n    this.listen('click', this._handlePressable.bind(this), { capture: true });\n  }\n\n  _handlePressable (e) {\n    switch (true) {\n      case this._type === Type.PRESS && e.target.getAttribute('aria-pressed') === 'false':\n      case this._type === Type.RELEASE && e.target.getAttribute('aria-pressed') === 'true':\n        this.act();\n        break;\n    }\n  }\n\n  setDismissType () {\n    this._type = Type.DISMISS;\n  }\n\n  get component () {\n    return null;\n  }\n\n  dispose () {\n    if (this._validatedInput) {\n      this._validatedInput.removeEventListener('keydown', this._handlingInputValidation);\n    }\n\n    super.dispose();\n  }\n}\n\nexport { ComponentActionee };\n","import api from '../../../../api';\n\nexport const AccordionSelector = {\n  ACCORDION: api.internals.ns.selector('accordion'),\n  TITLE: api.internals.ns.selector('accordion__title')\n};\n","const ID = 'accordion';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass AccordionButtonActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'AccordionButtonActionee';\n  }\n\n  init () {\n    this.isMuted = true;\n  }\n\n  get button () {\n    return this.element.getInstance('CollapseButton');\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n\n    return 'bouton d\\'accordéon';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { AccordionButtonActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport { AccordionSelector } from './accordion-selector';\nimport { AccordionButtonActionee } from './accordion-button-actionee';\nimport ID from './id';\n\nclass AccordionActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'AccordionActionee';\n  }\n\n  init () {\n    this.setDiscloseType();\n    this.wrapper = this.node.closest(AccordionSelector.ACCORDION);\n    this.detectLevel(this.wrapper);\n    this.register(`[aria-controls=\"${this.id}\"]`, AccordionButtonActionee);\n    this.listenDisclose();\n  }\n\n  get label () {\n    if (this.wrapper) {\n      const title = this.wrapper.querySelector(AccordionSelector.TITLE);\n      if (title) {\n        const text = this.getFirstText(title);\n        if (text) return text;\n      }\n    }\n    const instance = this.element.getInstance('Collapse');\n    if (instance) {\n      const button = instance.buttons.filter(button => button.isPrimary)[0];\n      if (button) {\n        const text = this.getFirstText(button);\n        if (text) return text;\n      }\n    }\n    return 'accordéon';\n  }\n\n  get component () {\n    return ID;\n  }\n\n  dispose () {\n    super.dispose();\n  }\n}\n\nexport { AccordionActionee };\n","export const joinSelector = (selectors, join) => selectors.split(',').map(selector => `${selector}${join}`).join(',');\n","import api from '../../../../api';\n\nexport const AlertSelector = {\n  ALERT: api.internals.ns.selector('alert'),\n  TITLE: api.internals.ns.selector('alert__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { AlertSelector } from './alert-selector';\nimport ID from './id';\n\nclass AlertActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'AlertActionee';\n  }\n\n  get label () {\n    const alertTitle = this.node.querySelector(AlertSelector.TITLE);\n    if (alertTitle) {\n      const text = this.getFirstText(alertTitle);\n      if (text) return text;\n    }\n    return 'alerte';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { AlertActionee };\n","const ID = 'alert';\n\nexport default ID;\n","import api from '../../../../api';\nimport { AlertSelector } from './alert-selector';\nimport { AlertActionee } from './alert-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateAlert = (selector = '') => {\n  api.internals.register(joinSelector(AlertSelector.ALERT, selector), AlertActionee);\n};\n\nexport default integrateAlert;\n","import api from '../../../../api';\n\nexport const BreadcrumbSelector = {\n  LINK: `${api.internals.ns.selector('breadcrumb__link')}:not([aria-current])`,\n  COLLAPSE: `${api.internals.ns.selector('breadcrumb')} ${api.internals.ns.selector('collapse')}`\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass BreadcrumbActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'BreadcrumbActionee';\n  }\n\n  get label () {\n    return 'fil d\\'ariane';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { BreadcrumbActionee };\n","const ID = 'breadcrumb';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\n\nclass BreadcrumbLinkActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'BreadcrumbLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenActionClick();\n  }\n\n  handleClick () {\n    this.act();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n    return 'lien fil d\\'ariane';\n  }\n\n  get component () {\n    return null;\n  }\n}\n\nexport { BreadcrumbLinkActionee };\n","import api from '../../../../api';\nimport { BreadcrumbSelector } from './breadcrumb-selector';\nimport { BreadcrumbActionee } from './breadcrumb-actionee';\nimport { BreadcrumbLinkActionee } from './breadcrumb-link-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateBreadcrumb = (selector = '') => {\n  if (api.breadcrumb) {\n    api.internals.register(joinSelector(BreadcrumbSelector.COLLAPSE, selector), BreadcrumbActionee);\n    api.internals.register(joinSelector(BreadcrumbSelector.LINK, selector), BreadcrumbLinkActionee);\n  }\n};\n\nexport default integrateBreadcrumb;\n","import api from '../../../../api.js';\n\nexport const ButtonSelector = {\n  BUTTON: `${api.internals.ns.selector('btn')}:not(${api.internals.ns.selector('btn--close')})`\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\nimport { ButtonEmission } from './button-emission';\n\nclass ButtonActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n    this._data = {};\n  }\n\n  static get instanceClassName () {\n    return 'ButtonActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenActionClick();\n  }\n\n  handleClick () {\n    this.ascend(ButtonEmission.CLICK);\n    this.act();\n  }\n\n  get label () {\n    if (this.node.tagName === 'input') {\n      switch (this.node.type) {\n        case 'button':\n        case 'submit':\n          if (this.hasAttribute('value')) return this.getAttribute('value');\n      }\n    }\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n    return 'bouton';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ButtonActionee };\n","const ID = 'button';\n\nexport default ID;\n","import api from '../../../../api';\nimport { ButtonSelector } from './button-selector';\nimport { ButtonActionee } from './button-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateButton = (selector = '') => {\n  api.internals.register(joinSelector(ButtonSelector.BUTTON, selector), ButtonActionee);\n};\n\nexport default integrateButton;\n","import api from '../../../../api';\n\nexport const CalloutSelector = {\n  CALLOUT: api.internals.ns.selector('callout'),\n  TITLE: api.internals.ns.selector('callout__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { CalloutSelector } from './callout-selector';\nimport ID from './id';\n\nclass CalloutActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'CalloutActionee';\n  }\n\n  get label () {\n    const calloutTitle = this.node.querySelector(CalloutSelector.TITLE);\n    if (calloutTitle) {\n      const text = this.getFirstText(calloutTitle);\n      if (text) return text;\n    }\n\n    return 'mise en avant';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { CalloutActionee };\n","const ID = 'callout';\n\nexport default ID;\n","import api from '../../../../api';\nimport { CalloutSelector } from './callout-selector';\nimport { CalloutActionee } from './callout-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateCallout = (selector = '') => {\n  api.internals.register(joinSelector(CalloutSelector.CALLOUT, selector), CalloutActionee);\n};\n\nexport default integrateCallout;\n","import api from '../../../../api';\n\nexport const CardSelector = {\n  CARD: api.internals.ns.selector('card'),\n  LINK: `${api.internals.ns.selector('card__title')} a, ${api.internals.ns.selector('card__title')} button`,\n  TITLE: api.internals.ns.selector('card__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { CardSelector } from './card-selector';\nimport ID from './id';\n\nclass CardActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'CardActionee';\n  }\n\n  init () {\n    const link = this.node.querySelector(CardSelector.LINK);\n    if (link) {\n      this.link = link;\n      this.detectInteractionType(link);\n      this.listenActionClick(link);\n    }\n  }\n\n  get label () {\n    const cardTitle = this.node.querySelector(CardSelector.TITLE);\n    if (cardTitle) {\n      const text = this.getFirstText(cardTitle);\n      if (text) return text;\n    }\n\n    const heading = this.getHeadingLabel();\n    if (heading) return heading;\n\n    return 'carte';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { CardActionee };\n","const ID = 'card';\n\nexport default ID;\n","import api from '../../../../api';\nimport { CardSelector } from './card-selector';\nimport { CardActionee } from './card-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateCard = (selector = '') => {\n  api.internals.register(joinSelector(CardSelector.CARD, selector), CardActionee);\n};\n\nexport default integrateCard;\n","import api from '../../../../api';\n\nexport const CheckboxSelector = {\n  INPUT: api.internals.ns.selector('checkbox-group [type=\"checkbox\"]')\n};\n","import api from '../../../../api.js';\nimport { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass CheckboxActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n    this._data = {};\n  }\n\n  static get instanceClassName () {\n    return 'CheckboxActionee';\n  }\n\n  init () {\n    this.detectCheckableType();\n    this.listenCheckable();\n  }\n\n  get label () {\n    const label = this.node.parentNode.querySelector(api.internals.ns.selector('label'));\n    if (label) {\n      const text = this.getFirstText(label);\n      if (text) return text;\n    }\n    return 'case à cocher';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { CheckboxActionee };\n","const ID = 'checkbox';\n\nexport default ID;\n","import api from '../../../../api';\nimport { CheckboxSelector } from './checkbox-selector';\nimport { CheckboxActionee } from './checkbox-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateCheckbox = (selector = '') => {\n  api.internals.register(joinSelector(CheckboxSelector.INPUT, selector), CheckboxActionee);\n};\n\nexport default integrateCheckbox;\n","import api from '../../../../api.js';\n\nexport const ConnectSelector = {\n  CONNECT: api.internals.ns.selector('connect'),\n  LINK: api.internals.ns.selector('connect + * a, connect + a')\n};\n","const ID = 'connect';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass ConnectActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'ConnectActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenActionClick();\n  }\n\n  get label () {\n    if (this.node.classList.contains('fr-connect--plus')) return 'FranceConnect+';\n    return 'FranceConnect';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ConnectActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass ConnectLinkActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'ConnectLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenActionClick();\n  }\n\n  get label () {\n    return this.getFirstText() || 'qu\\'est-ce que FranceConnect ?';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ConnectLinkActionee };\n","import api from '../../../../api';\nimport { ConnectSelector } from './connect-selector';\nimport { ConnectActionee } from './connect-actionee';\nimport { ConnectLinkActionee } from './connect-link-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateConnect = (selector = '') => {\n  api.internals.register(joinSelector(ConnectSelector.CONNECT, selector), ConnectActionee);\n  api.internals.register(joinSelector(ConnectSelector.LINK, selector), ConnectLinkActionee);\n};\n\nexport default integrateConnect;\n","import api from '../../../../api';\n\nexport const ConsentSelector = {\n  BANNER: api.internals.ns.selector('consent-banner')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass ConsentActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'ConsentActionee';\n  }\n\n  get label () {\n    return 'gestionnaire de consentement';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ConsentActionee };\n","const ID = 'consent';\n\nexport default ID;\n","import api from '../../../../api';\nimport { ConsentSelector } from './consent-selector';\nimport { ConsentActionee } from './consent-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateConsent = (selector = '') => {\n  api.internals.register(joinSelector(ConsentSelector.BANNER, selector), ConsentActionee);\n};\n\nexport default integrateConsent;\n","import api from '../../../../api';\n\nexport const DownloadSelector = {\n  LINK: api.internals.ns.selector('download__link')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass DownloadActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'DownloadActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenActionClick();\n  }\n\n  get label () {\n    const text = this.getFirstText();\n    if (text) return text;\n    return 'téléchargement';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { DownloadActionee };\n","const ID = 'download';\n\nexport default ID;\n","import api from '../../../../api';\nimport { DownloadSelector } from './download-selector';\nimport { DownloadActionee } from './download-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateDownload = (selector) => {\n  api.internals.register(joinSelector(DownloadSelector.LINK, selector), DownloadActionee);\n};\n\nexport default integrateDownload;\n","import api from '../../../../api';\n\nexport const FollowSelector = {\n  FOLLOW: api.internals.ns.selector('follow'),\n  NEWSLETTER_INPUT_GROUP: api.internals.ns.selector('follow__newsletter') + ' ' + api.internals.ns.selector('input-group')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { FollowSelector } from './follow-selector';\nimport { Type } from '../../../analytics/action/type';\nimport ID from './id';\n\nclass FollowActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'FollowActionee';\n  }\n\n  init () {\n    this._inputGroup = this.querySelector(FollowSelector.NEWSLETTER_INPUT_GROUP);\n    if (this._inputGroup) {\n      this.listenInputValidation(this._inputGroup, Type.SUBSCRIBE);\n      const input = this.element.getDescendantInstances('InputActionee', null, true)[0];\n      if (input) input.isMuted = true;\n    }\n  }\n\n  get label () {\n    return 'lettre d\\'information et réseaux sociaux';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { FollowActionee };\n","const ID = 'follow';\n\nexport default ID;\n","import api from '../../../../api';\nimport { FollowSelector } from './follow-selector';\nimport { FollowActionee } from './follow-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateFollow = (selector = '') => {\n  api.internals.register(joinSelector(FollowSelector.FOLLOW, selector), FollowActionee);\n};\n\nexport default integrateFollow;\n","import api from '../../../../api';\n\nexport const FooterSelector = {\n  FOOTER: api.internals.ns.selector('footer'),\n  FOOTER_LINKS: `${api.internals.ns.selector('footer')} a[href], ${api.internals.ns.selector('footer')} button`\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass FooterActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'FooterActionee';\n  }\n\n  get label () {\n    return 'pied de page';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { FooterActionee };\n","const ID = 'footer';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\n\nclass FooterLinkActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'FooterLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenActionClick();\n  }\n\n  get label () {\n    const label = this.getInteractionLabel();\n    if (label) return label;\n\n    return 'lien pied de page';\n  }\n}\n\nexport { FooterLinkActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass HeaderActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'HeaderActionee';\n  }\n\n  get label () {\n    return 'en-tête';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { HeaderActionee };\n","const ID = 'header';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\n\nclass HeaderModalButtonActionee extends ComponentActionee {\n  constructor () {\n    super(4);\n  }\n\n  static get instanceClassName () {\n    return 'HeaderModalButtonActionee';\n  }\n}\n\nexport { HeaderModalButtonActionee };\n","import api from '../../../../api.js';\nimport { ComponentActionee } from '../component-actionee';\nimport { HeaderModalButtonActionee } from './header-modal-button-actionee';\n\nclass HeaderModalActionee extends ComponentActionee {\n  constructor () {\n    super(0);\n  }\n\n  static get instanceClassName () {\n    return 'HeaderModalActionee';\n  }\n\n  init () {\n    if (this.isBreakpoint(api.core.Breakpoints.LG)) {\n      this.setPriority(4);\n      this.register(`[aria-controls=\"${this.id}\"]`, HeaderModalButtonActionee);\n    }\n  }\n}\n\nexport { HeaderModalActionee };\n","import api from '../../../../api.js';\n\nexport const HeaderSelector = {\n  TOOLS_BUTTON: `${api.internals.ns.selector('header__tools-links')} ${api.internals.ns.selector('btns-group')} ${api.internals.ns.selector('btn')}`,\n  MENU_BUTTON: `${api.internals.ns.selector('header__menu-links')} ${api.internals.ns.selector('btns-group')} ${api.internals.ns.selector('btn')}`\n};\n","import { ComponentActionee } from '../component-actionee';\nimport api from '../../../../api';\n\nclass HeaderToolsButtonActionee extends ComponentActionee {\n  constructor () {\n    super(4);\n  }\n\n  static get instanceClassName () {\n    return 'HeaderToolsButtonActionee';\n  }\n\n  init () {\n    if (this.isBreakpoint(api.core.Breakpoints.LG)) this._priority = -1;\n  }\n}\n\nexport { HeaderToolsButtonActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport api from '../../../../api';\n\nclass HeaderMenuButtonActionee extends ComponentActionee {\n  static get instanceClassName () {\n    return 'HeaderMenuButtonActionee';\n  }\n\n  init () {\n    if (this.isBreakpoint(api.core.Breakpoints.LG)) this.setPriority(4);\n  }\n}\n\nexport { HeaderMenuButtonActionee };\n","import api from '../../../../api';\nimport { HeaderActionee } from './header-actionee';\nimport { HeaderModalActionee } from './header-modal-actionee';\nimport { HeaderSelector } from './header-selector';\nimport { HeaderToolsButtonActionee } from './header-tools-button-actionee';\nimport { HeaderMenuButtonActionee } from './header-menu-button-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateHeader = (selector = '') => {\n  if (api.header) {\n    api.internals.register(joinSelector(api.header.HeaderSelector.HEADER, selector), HeaderActionee);\n    api.internals.register(joinSelector(api.header.HeaderSelector.MODALS, selector), HeaderModalActionee);\n    api.internals.register(joinSelector(HeaderSelector.TOOLS_BUTTON, selector), HeaderToolsButtonActionee);\n    api.internals.register(joinSelector(HeaderSelector.MENU_BUTTON, selector), HeaderMenuButtonActionee);\n  }\n};\n\nexport default integrateHeader;\n","import api from '../../../../api';\n\nexport const HighlightSelector = {\n  HIGHLIGHT: api.internals.ns.selector('highlight')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass HighlightActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'HighlightActionee';\n  }\n\n  get label () {\n    return 'mise en exergue';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { HighlightActionee };\n","const ID = 'highlight';\n\nexport default ID;\n","import api from '../../../../api';\nimport { HighlightSelector } from './highlight-selector';\nimport { HighlightActionee } from './highlight-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateHighlight = (selector = '') => {\n  api.internals.register(joinSelector(HighlightSelector.HIGHLIGHT, selector), HighlightActionee);\n};\n\nexport default integrateHighlight;\n","import api from '../../../../api';\n\nexport const LinkSelector = {\n  LINK: api.internals.ns.selector('link')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass LinkActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'LinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenActionClick();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n\n    return 'lien';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { LinkActionee };\n","const ID = 'link';\n\nexport default ID;\n","import api from '../../../../api';\nimport { LinkSelector } from './link-selector';\nimport { LinkActionee } from './link-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateLink = (selector = '') => {\n  api.internals.register(joinSelector(LinkSelector.LINK, selector), LinkActionee);\n};\n\nexport default integrateLink;\n","import api from '../../../../api';\n\nexport const InputSelector = {\n  INPUT: api.internals.ns.selector('input-group')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport api from '../../../../api.js';\nimport ID from './id';\n\nclass InputActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'InputActionee';\n  }\n\n  init () {\n    this._input = this.querySelector(api.internals.ns.selector('input'));\n    this._label = this.querySelector(api.internals.ns.selector('label'));\n    this._inputWrap = this.querySelector(api.internals.ns.selector('input-wrap'));\n\n    if (this._inputWrap) this.listenInputValidation(this._inputWrap);\n  }\n\n  get label () {\n    if (this._label) {\n      const text = this.getFirstText(this._label);\n      if (text) return text;\n    }\n\n    return 'champ de saisie';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { InputActionee };\n","const ID = 'input';\n\nexport default ID;\n","import api from '../../../../api';\nimport { InputSelector } from './input-selector';\nimport { InputActionee } from './input-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateInput = (selector = '') => {\n  api.internals.register(joinSelector(InputSelector.INPUT, selector), InputActionee);\n};\n\nexport default integrateInput;\n","import api from '../../../../../core/api.js';\n\nexport const ModalSelector = {\n  TITLE: api.internals.ns.selector('modal__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { ModalSelector } from './modal-selector.js';\nimport ID from './id';\n\nclass ModalActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'ModalActionee';\n  }\n\n  init () {\n    this.setDiscloseType();\n    this.detectLevel();\n    this.listenDisclose();\n  }\n\n  get label () {\n    const title = this.node.querySelector(ModalSelector.TITLE);\n\n    if (title) {\n      const text = this.getFirstText(title);\n      if (text) return text;\n    }\n\n    const heading = this.getHeadingLabel(2);\n    if (heading) return heading;\n\n    const instance = this.element.getInstance('Modal');\n    if (instance) {\n      const button = instance.buttons.filter(button => button.isPrimary)[0];\n      if (button) {\n        const text = this.getFirstText(button.node);\n        if (text) return text;\n      }\n    }\n    return 'modale';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ModalActionee };\n","const ID = 'modal';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\n\nclass NavigationActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'NavigationActionee';\n  }\n\n  get label () {\n    return 'navigation';\n  }\n}\n\nexport { NavigationActionee };\n","import api from '../../../../api';\n\nexport const NavigationSelector = {\n  LINK: api.internals.ns.selector('nav__link'),\n  BUTTON: api.internals.ns.selector('nav__btn')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass NavigationLinkActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'NavigationLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenActionClick();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n\n    return 'lien de navigation';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { NavigationLinkActionee };\n","const ID = 'navigation';\n\nexport default ID;\n","import api from '../../../../api';\nimport { ComponentActionee } from '../component-actionee';\nimport { NavigationSelector } from './navigation-selector';\n\nclass NavigationSectionActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'NavigationSectionActionee';\n  }\n\n  init () {\n    this._wrapper = this.node.closest(api.navigation.NavigationSelector.ITEM);\n  }\n\n  get label () {\n    if (this._wrapper) {\n      const button = this._wrapper.querySelector(NavigationSelector.BUTTON);\n      if (button) {\n        const text = this.getFirstText(button);\n        if (text) return text;\n      }\n    }\n\n    const instance = this.element.getInstance('Collapse');\n    if (instance) {\n      const button = instance.buttons.filter(button => button.isPrimary)[0];\n      if (button) {\n        const text = this.getFirstText(button);\n        if (text) return text;\n      }\n    }\n    return 'section de navigation';\n  }\n}\n\nexport { NavigationSectionActionee };\n","import api from '../../../../api';\nimport { NavigationActionee } from './navigation-actionee';\nimport { NavigationSelector } from './navigation-selector';\nimport { NavigationLinkActionee } from './navigation-link-actionee';\nimport { NavigationSectionActionee } from './navigation-section-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateNavigation = (selector = '') => {\n  if (api.navigation) {\n    api.internals.register(joinSelector(api.navigation.NavigationSelector.NAVIGATION, selector), NavigationActionee);\n    api.internals.register(joinSelector(NavigationSelector.LINK, selector), NavigationLinkActionee);\n    api.internals.register(joinSelector(api.navigation.NavigationSelector.COLLAPSE, selector), NavigationSectionActionee);\n  }\n};\n\nexport default integrateNavigation;\n","import api from '../../../../api';\n\nexport const NoticeSelector = {\n  NOTICE: api.internals.ns.selector('notice'),\n  TITLE: api.internals.ns.selector('notice__title'),\n  LINK: api.internals.ns.selector('notice a')\n};\n","const ID = 'notice';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\nimport { NoticeSelector } from './notice-selector';\nimport ID from './id';\n\nclass NoticeActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'NoticeActionee';\n  }\n\n  get label () {\n    const noticeTitle = this.node.querySelector(NoticeSelector.TITLE);\n    if (noticeTitle) {\n      const firstText = this.getFirstText(noticeTitle);\n      if (firstText) return firstText;\n    }\n\n    return 'bandeau d\\'information importante';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { NoticeActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass NoticeLinkActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'NoticeLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenActionClick();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n\n    return 'lien de bandeau d\\'information importante';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { NoticeLinkActionee };\n","import api from '../../../../api';\nimport { NoticeSelector } from './notice-selector';\nimport { NoticeActionee } from './notice-actionee';\nimport { NoticeLinkActionee } from './notice-link-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateNotice = (selector = '') => {\n  api.internals.register(joinSelector(NoticeSelector.NOTICE, selector), NoticeActionee);\n  api.internals.register(joinSelector(NoticeSelector.LINK, selector), NoticeLinkActionee);\n};\n\nexport default integrateNotice;\n","import api from '../../../../api.js';\n\nexport const PaginationSelector = {\n  PAGINATION: api.internals.ns.selector('pagination'),\n  LINK: api.internals.ns.selector('pagination__link'),\n  NEXT_LINK: api.internals.ns.selector('pagination__link--next'),\n  LAST_LINK: api.internals.ns.selector('pagination__link--last'),\n  ANALYTICS_TOTAL: api.internals.ns.attr('analytics-page-total'),\n  CURRENT: '[aria-current=\"page\"]'\n};\n","import api from '../../../../api';\nimport { ComponentActionee } from '../component-actionee';\nimport { PaginationSelector } from './pagination-selector';\nimport ID from './id';\n\nclass PaginationActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'PaginationActionee';\n  }\n\n  init () {\n    this.setPagination();\n  }\n\n  get label () {\n    return 'pagination';\n  }\n\n  get component () {\n    return ID;\n  }\n\n  setPagination () {\n    const currentLink = this.node.querySelector(PaginationSelector.CURRENT);\n    if (!currentLink) return;\n    const currentLabel = this.getFirstText(currentLink);\n    if (!currentLabel) return;\n    const current = this.getInt(currentLabel);\n    if (isNaN(current)) return;\n    api.analytics.page.current = current;\n\n    const total = this.getTotalPage();\n    if (isNaN(total)) return;\n    api.analytics.page.total = total;\n  }\n\n  getTotalPage () {\n    const attr = parseInt(this.node.getAttribute(PaginationSelector.ANALYTICS_TOTAL));\n    if (!isNaN(attr)) return attr;\n    const links = this.node.querySelectorAll(`${PaginationSelector.LINK}:not(${PaginationSelector.NEXT_LINK}):not(${PaginationSelector.LAST_LINK})`);\n    if (!links) return null;\n    const totalLabel = this.getFirstText(links[links.length - 1]);\n    if (!totalLabel) return null;\n    return this.getInt(totalLabel);\n  }\n\n  getInt (val) {\n    const ints = val.match(/\\d+/);\n    if (!ints || ints.length === 0) return null;\n    return parseInt(ints[0]);\n  }\n}\n\nexport { PaginationActionee };\n","const ID = 'pagination';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\n\nclass PaginationLinkActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'PaginationLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenActionClick();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n    return 'lien pagination';\n  }\n\n  get component () {\n    return null;\n  }\n}\n\nexport { PaginationLinkActionee };\n","import api from '../../../../api';\nimport { PaginationSelector } from './pagination-selector';\nimport { PaginationActionee } from './pagination-actionee';\nimport { PaginationLinkActionee } from './pagination-link-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integratePagination = (selector = '') => {\n  api.internals.register(joinSelector(PaginationSelector.PAGINATION, selector), PaginationActionee);\n  api.internals.register(joinSelector(PaginationSelector.LINK, selector), PaginationLinkActionee);\n};\n\nexport default integratePagination;\n","import api from '../../../../api';\n\nexport const QuoteSelector = {\n  QUOTE: api.internals.ns.selector('quote')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass QuoteActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'QuoteActionee';\n  }\n\n  get label () {\n    const blockquote = this.node.querySelector('blockquote');\n    if (blockquote) {\n      const firstText = this.getFirstText(blockquote);\n      if (firstText) {\n        return firstText;\n      }\n    }\n    return 'citation';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { QuoteActionee };\n","const ID = 'quote';\n\nexport default ID;\n","import api from '../../../../api';\nimport { QuoteSelector } from './quote-selector';\nimport { QuoteActionee } from './quote-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateQuote = (selector = '') => {\n  api.internals.register(joinSelector(QuoteSelector.QUOTE, selector), QuoteActionee);\n};\n\nexport default integrateQuote;\n","import api from '../../../../api';\n\nexport const RadioSelector = {\n  INPUT: api.internals.ns.selector('radio-group [type=\"radio\"]')\n};\n","import api from '../../../../api';\n\nexport const FormSelector = {\n  LABEL: api.internals.ns.selector('label'),\n  FIELDSET: api.internals.ns.selector('fieldset'),\n  LEGEND: api.internals.ns.selector('fieldset__legend')\n};\n","import api from '../../../../api.js';\nimport { ComponentActionee } from '../component-actionee';\nimport { FormSelector } from '../form/form-selector';\nimport ID from './id';\n\nclass RadioActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n    this._data = {};\n  }\n\n  static get instanceClassName () {\n    return 'RadioActionee';\n  }\n\n  init () {\n    this.setCheckType();\n    this.listenCheckable();\n  }\n\n  get label () {\n    const parts = [];\n    const fieldset = this.node.closest(FormSelector.FIELDSET);\n    if (fieldset) {\n      const legend = fieldset.querySelector(FormSelector.LEGEND);\n      if (legend) {\n        const firstTextLegend = this.getFirstText(legend);\n        if (firstTextLegend) parts.push(firstTextLegend);\n      }\n    }\n    const label = this.node.parentNode.querySelector(api.internals.ns.selector('label'));\n    if (label) {\n      const firstTextLabel = this.getFirstText(label);\n      if (firstTextLabel) parts.push(firstTextLabel);\n    }\n    return parts.join(' › ');\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { RadioActionee };\n","const ID = 'radio';\n\nexport default ID;\n","import api from '../../../../api';\nimport { RadioSelector } from './radio-selector';\nimport { RadioActionee } from './radio-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateRadio = (selector = '') => {\n  api.internals.register(joinSelector(RadioSelector.INPUT, selector), RadioActionee);\n};\n\nexport default integrateRadio;\n","import api from '../../../../api';\n\nexport const SearchSelector = {\n  SEARCH_BAR: api.internals.ns.selector('search-bar')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { Type } from '../../../analytics/action/type';\nimport ID from './id';\n\nclass SearchActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'SearchActionee';\n  }\n\n  init () {\n    this.listenInputValidation(this.node, Type.SEARCH, true);\n  }\n\n  get label () {\n    return 'barre de recherche';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { SearchActionee };\n","const ID = 'search';\n\nexport default ID;\n","import api from '../../../../api';\nimport { SearchSelector } from './search-selector';\nimport { SearchActionee } from './search-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateSearch = (selector = '') => {\n  api.internals.register(joinSelector(SearchSelector.SEARCH_BAR, selector), SearchActionee);\n};\n\nexport default integrateSearch;\n","import api from '../../../../api';\n\nexport const SelectSelector = {\n  SELECT: api.internals.ns.selector('select')\n};\n","import api from '../../../../api.js';\nimport { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass SelectActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n    this._data = {};\n  }\n\n  static get instanceClassName () {\n    return 'SelectActionee';\n  }\n\n  init () {\n    this.setChangeType();\n    this.listenChange();\n  }\n\n  setChangeValue (e) {\n    if (!e.target || !e.target.selectedOptions) return;\n    const value = Array.from(e.target.selectedOptions).map(option => option.text).join(' - ');\n    if (value) this.value = value;\n  }\n\n  get label () {\n    const label = this.node.parentNode.querySelector(api.internals.ns.selector('label'));\n    if (label) {\n      const firstText = this.getFirstText(label);\n      if (firstText) return firstText;\n    }\n\n    return 'liste déroulante';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { SelectActionee };\n","const ID = 'select';\n\nexport default ID;\n","import api from '../../../../api';\nimport { SelectSelector } from './select-selector';\nimport { SelectActionee } from './select-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateSelect = (selector = '') => {\n  api.internals.register(joinSelector(SelectSelector.SELECT, selector), SelectActionee);\n};\n\nexport default integrateSelect;\n","import api from '../../../../api';\n\nexport const ShareSelector = {\n  SHARE: api.internals.ns.selector('share'),\n  TITLE: api.internals.ns.selector('share__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\nimport { ShareSelector } from './share-selector';\n\nclass ShareActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'ShareActionee';\n  }\n\n  get label () {\n    const title = this.querySelector(ShareSelector.TITLE);\n    if (title) {\n      const firstText = this.getFirstText(title);\n      if (firstText) return firstText;\n    }\n    return 'boutons de partage';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ShareActionee };\n","const ID = 'share';\n\nexport default ID;\n","import api from '../../../../api';\nimport { ShareSelector } from './share-selector';\nimport { ShareActionee } from './share-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateShare = (selector = '') => {\n  api.internals.register(joinSelector(ShareSelector.SHARE, selector), ShareActionee);\n};\n\nexport default integrateShare;\n","import api from '../../../../api';\n\nexport const SidemenuSelector = {\n  SIDEMENU: api.internals.ns.selector('sidemenu'),\n  ITEM: api.internals.ns.selector('sidemenu__item'),\n  LINK: api.internals.ns.selector('sidemenu__link'),\n  BUTTON: api.internals.ns.selector('sidemenu__btn'),\n  TITLE: api.internals.ns.selector('sidemenu__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { SidemenuSelector } from './sidemenu-selector';\n\nclass SidemenuActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'SidemenuActionee';\n  }\n\n  get label () {\n    const sidemenu = this.node.closest(SidemenuSelector.SIDEMENU);\n    if (sidemenu) {\n      const title = sidemenu.querySelector(SidemenuSelector.TITLE);\n      if (title) {\n        const firstText = this.getFirstText(title);\n        if (firstText) return firstText;\n      }\n    }\n\n    return 'menu Latéral';\n  }\n}\n\nexport { SidemenuActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass SidemenuLinkActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'SidemenuLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenActionClick();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n\n    return 'lien menu latéral';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { SidemenuLinkActionee };\n","const ID = 'sidemenu';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\nimport { SidemenuSelector } from './sidemenu-selector';\n\nclass SidemenuSectionActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'SidemenuSectionActionee';\n  }\n\n  init () {\n    this._wrapper = this.node.closest(SidemenuSelector.ITEM);\n  }\n\n  get label () {\n    if (this._wrapper) {\n      const button = this._wrapper.querySelector(SidemenuSelector.BUTTON);\n      if (button) {\n        const firstText = this.getFirstText(button);\n        if (firstText) return firstText;\n      }\n    }\n    const instance = this.element.getInstance('Collapse');\n    if (instance) {\n      const button = instance.buttons.filter(button => button.isPrimary)[0];\n      if (button) {\n        const firstTextBtn = this.getFirstText(button);\n        if (firstTextBtn) return firstTextBtn;\n      }\n    }\n    return 'section menu latéral';\n  }\n}\n\nexport { SidemenuSectionActionee };\n","import api from '../../../../api';\nimport { SidemenuSelector } from './sidemenu-selector';\nimport { SidemenuActionee } from './sidemenu-actionee';\nimport { SidemenuLinkActionee } from './sidemenu-link-actionee';\nimport { SidemenuSectionActionee } from './sidemenu-section-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateSidemenu = (selector) => {\n  if (api.sidemenu) {\n    api.internals.register(joinSelector(SidemenuSelector.SIDEMENU, selector), SidemenuActionee);\n    api.internals.register(joinSelector(SidemenuSelector.LINK, selector), SidemenuLinkActionee);\n    api.internals.register(joinSelector(api.sidemenu.SidemenuSelector.COLLAPSE, selector), SidemenuSectionActionee);\n  }\n};\n\nexport default integrateSidemenu;\n","import api from '../../../../api';\n\nexport const SummarySelector = {\n  SUMMARY: api.internals.ns.selector('summary'),\n  LINK: api.internals.ns.selector('summary__link'),\n  TITLE: api.internals.ns.selector('summary__title'),\n  ITEM: `${api.internals.ns.selector('summary')} li`\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { SummarySelector } from './summary-selector';\n\nclass SummaryActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'SummaryActionee';\n  }\n\n  get label () {\n    const title = this.node.querySelector(SummarySelector.TITLE);\n    if (title) {\n      const firstText = this.getFirstText(title);\n      if (firstText) return firstText;\n    }\n    return 'sommaire';\n  }\n}\n\nexport { SummaryActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass SummaryLinkActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'SummaryLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenActionClick();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n    return 'lien sommaire';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { SummaryLinkActionee };\n","const ID = 'summary';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\nimport { SummarySelector } from './summary-selector';\n\nclass SummarySectionActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'SummarySectionActionee';\n  }\n\n  init () {\n    this._link = this.querySelector(SummarySelector.LINK);\n  }\n\n  validate (target) {\n    return this._link !== target;\n  }\n\n  get label () {\n    if (!this._link) return null;\n    const firstText = this.getFirstText(this._link);\n    if (firstText) return firstText;\n    return 'section sommaire';\n  }\n}\n\nexport { SummarySectionActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass TabButtonActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'TabButtonActionee';\n  }\n\n  init () {\n    this.isMuted = true;\n  }\n\n  get label () {\n    const text = this.getFirstText();\n    if (text) return text;\n    return 'bouton onglet';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TabButtonActionee };\n","const ID = 'tab';\n\nexport default ID;\n","import api from '../../../../api.js';\nimport { ComponentActionee } from '../component-actionee';\nimport { TabButtonActionee } from './tab-button-actionee';\nimport ID from './id';\n\nclass TabActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'TabActionee';\n  }\n\n  init () {\n    this.setDiscloseType();\n    this.register(`[aria-controls=\"${this.id}\"]`, TabButtonActionee);\n    this._instance = this.element.getInstance('TabPanel');\n    this.listenDisclose();\n  }\n\n  get label () {\n    const tabs = this.node.closest(api.tab.TabSelector.GROUP);\n    if (tabs) {\n      const tab = tabs.querySelector(`${api.tab.TabSelector.LIST} [aria-controls=\"${this.id}\"]${api.tab.TabSelector.TAB}`);\n      if (tab) {\n        const firstTextTab = this.getFirstText(tab);\n        if (firstTextTab) return firstTextTab;\n      }\n    }\n\n    const button = this._instance.buttons.filter(button => button.isPrimary)[0];\n    if (button) {\n      const firstTextBtn = this.getFirstText(button);\n      if (firstTextBtn) return firstTextBtn;\n    }\n    return 'onglet';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TabActionee };\n","import api from '../../../../api';\nimport { TabActionee } from './tab-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateTab = (selector = '') => {\n  if (api.tab) {\n    api.internals.register(joinSelector(api.tab.TabSelector.PANEL, selector), TabActionee);\n  }\n};\n\nexport default integrateTab;\n","import api from '../../../../api';\n\nexport const TableSelector = {\n  TABLE: api.internals.ns.selector('table')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass TableActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'TableActionee';\n  }\n\n  get label () {\n    const caption = this.node.querySelector('caption');\n    if (caption) {\n      const firstText = this.getFirstText(caption);\n      if (firstText) return firstText;\n    }\n    return 'tableau';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TableActionee };\n","const ID = 'table';\n\nexport default ID;\n","import api from '../../../../api';\nimport { TableSelector } from './table-selector';\nimport { TableActionee } from './table-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateTable = (selector = '') => {\n  api.internals.register(joinSelector(TableSelector.TABLE, selector), TableActionee);\n};\n\nexport default integrateTable;\n","import api from '../../../../api';\n\nexport const TagSelector = {\n  TAG: api.internals.ns.selector('tag'),\n  PRESSABLE: '[aria-pressed]',\n  DISMISSIBLE: `${api.internals.ns.selector('tag--dismiss', '')}`\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { TagSelector } from './tag-selector';\nimport ID from './id';\n\nclass TagActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'TagActionee';\n  }\n\n  init () {\n    switch (true) {\n      case this.detectPressableType():\n        this.listenPressable();\n        break;\n\n      case this.isInteractive && this.node.classList.contains(TagSelector.DISMISSIBLE):\n        this.setDismissType();\n        this.listenActionClick();\n        break;\n\n      case this.isInteractive:\n        this.detectInteractionType();\n        this.listenActionClick();\n        break;\n    }\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n\n    return 'tag';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TagActionee };\n","const ID = 'tag';\n\nexport default ID;\n","import api from '../../../../api';\nimport { TagSelector } from './tag-selector';\nimport { TagActionee } from './tag-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateTag = (selector = '') => {\n  api.internals.register(joinSelector(TagSelector.TAG, selector), TagActionee);\n};\n\nexport default integrateTag;\n","import api from '../../../../api';\n\nexport const TileSelector = {\n  TILE: api.internals.ns.selector('tile'),\n  LINK: `${api.internals.ns.selector('tile__title')} a, ${api.internals.ns.selector('tile__title')} button`,\n  TITLE: api.internals.ns.selector('tile__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { TileSelector } from './tile-selector';\nimport ID from './id';\n\nclass TileActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'TileActionee';\n  }\n\n  init () {\n    const link = this.node.querySelector(TileSelector.LINK);\n    if (link) {\n      this.link = link;\n      this.detectInteractionType(link);\n      this.listenActionClick(link);\n    }\n  }\n\n  get label () {\n    const tileTitle = this.node.querySelector(TileSelector.TITLE);\n    if (tileTitle) return this.getFirstText(tileTitle);\n\n    const heading = this.getHeadingLabel();\n    if (heading) return heading;\n\n    return 'tuile';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TileActionee };\n","const ID = 'tile';\n\nexport default ID;\n","import api from '../../../../api';\nimport { TileSelector } from './tile-selector';\nimport { TileActionee } from './tile-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateTile = (selector = '') => {\n  api.internals.register(joinSelector(TileSelector.TILE, selector), TileActionee);\n};\n\nexport default integrateTile;\n","import api from '../../../../api';\n\nexport const ToggleSelector = {\n  INPUT: api.internals.ns.selector('toggle [type=\"checkbox\"]')\n};\n","import api from '../../../../api.js';\nimport { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass ToggleActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n    this._data = {};\n  }\n\n  static get instanceClassName () {\n    return 'ToggleActionee';\n  }\n\n  init () {\n    this.detectCheckableType();\n    this.listenCheckable();\n  }\n\n  get label () {\n    const label = this.node.parentNode.querySelector(api.internals.ns.selector('toggle__label'));\n    if (label) {\n      const firstText = this.getFirstText(label);\n      if (firstText) return firstText;\n    }\n\n    return 'interrupteur';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ToggleActionee };\n","const ID = 'toggle';\n\nexport default ID;\n","import api from '../../../../api';\nimport { ToggleSelector } from './toggle-selector';\nimport { ToggleActionee } from './toggle-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateToggle = (selector = '') => {\n  api.internals.register(joinSelector(ToggleSelector.INPUT, selector), ToggleActionee);\n};\n\nexport default integrateToggle;\n","import api from '../../../../api';\n\nconst TRANSCRIPTION = api.internals.ns.selector('transcription');\nconst COLLAPSE = api.internals.ns.selector('collapse');\n\nexport const TranscriptionSelector = {\n  TRANSCRIPTION: TRANSCRIPTION,\n  COLLAPSE: `${TRANSCRIPTION} > ${COLLAPSE}, ${TRANSCRIPTION} > *:not(${TRANSCRIPTION}):not(${COLLAPSE}) > ${COLLAPSE}, ${TRANSCRIPTION} > *:not(${TRANSCRIPTION}):not(${COLLAPSE}) > *:not(${TRANSCRIPTION}):not(${COLLAPSE}) > ${COLLAPSE}`,\n  COLLAPSE_LEGACY: `${TRANSCRIPTION} ${COLLAPSE}`,\n  TITLE: `${TRANSCRIPTION}__title`\n};\n","const ID = 'transcription';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass TranscriptionButtonActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'TranscriptionButtonActionee';\n  }\n\n  init () {\n    this.isMuted = true;\n  }\n\n  get button () {\n    return this.element.getInstance('CollapseButton');\n  }\n\n  get label () {\n    const text = this.getFirstText();\n    if (text) return text;\n    return 'bouton transcription';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TranscriptionButtonActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport { TranscriptionSelector } from './transcription-selector';\nimport { TranscriptionButtonActionee } from './transcription-button-actionee';\nimport ID from './id';\n\nclass TranscriptionActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'TranscriptionActionee';\n  }\n\n  init () {\n    this.setDiscloseType();\n    this.wrapper = this.node.closest(TranscriptionSelector.ACCORDION);\n    this.detectLevel(this.wrapper);\n    this.register(`[aria-controls=\"${this.id}\"]`, TranscriptionButtonActionee);\n    this.listenDisclose();\n  }\n\n  get label () {\n    if (this.wrapper) {\n      const title = this.wrapper.querySelector(TranscriptionSelector.TITLE);\n      if (title) {\n        const firstTextTitle = this.getFirstText(title);\n        if (firstTextTitle) return firstTextTitle;\n      }\n    }\n    const instance = this.element.getInstance('Collapse');\n    if (instance) {\n      const button = instance.buttons.filter(button => button.isPrimary)[0];\n      if (button) {\n        const firstTextBtn = this.getFirstText(button);\n        if (firstTextBtn) return firstTextBtn;\n      }\n    }\n    return 'transcription';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TranscriptionActionee };\n","import api from '../../../../api';\nimport { TranscriptionSelector } from './transcription-selector';\nimport { TranscriptionActionee } from './transcription-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateTranscription = (selector = '') => {\n  api.internals.register(joinSelector(TranscriptionSelector.COLLAPSE, selector), TranscriptionActionee);\n};\n\nexport default integrateTranscription;\n","import api from '../../../../api';\n\nconst TRANSLATE = api.internals.ns.selector('translate');\nconst COLLAPSE = api.internals.ns.selector('collapse');\n\nexport const TranslateSelector = {\n  BUTTON: `${TRANSLATE}__btn`,\n  COLLAPSE: `${TRANSLATE} > ${COLLAPSE}, ${TRANSLATE} > *:not(${TRANSLATE}):not(${COLLAPSE}) > ${COLLAPSE}, ${TRANSLATE} > *:not(${TRANSLATE}):not(${COLLAPSE}) > *:not(${TRANSLATE}):not(${COLLAPSE}) > ${COLLAPSE}`,\n  COLLAPSE_LEGACY: `${TRANSLATE} ${COLLAPSE}`\n};\n","const ID = 'translate';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\nimport { TranslateSelector } from './translate-selector';\nimport ID from './id';\n\nclass TranslateActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'TranslateActionee';\n  }\n\n  get label () {\n    const button = this.node.querySelector(TranslateSelector.BUTTON);\n    if (button) {\n      const title = button.getAttribute('title');\n      if (title) return title;\n    }\n\n    return 'sélecteur de langue';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TranslateActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass TranslateButtonActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'TranslateButtonActionee';\n  }\n\n  init () {\n    this.isMuted = true;\n  }\n\n  get button () {\n    return this.element.getInstance('CollapseButton');\n  }\n\n  get label () {\n    const label = this.getInteractionLabel();\n    if (label) return label;\n    return 'bouton sélecteur de langue';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TranslateButtonActionee };\n","import api from '../../../../api';\nimport { TranslateSelector } from './translate-selector';\nimport { TranslateActionee } from './translate-actionee';\nimport { TranslateButtonActionee } from './translate-button-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateTranslate = (selector = '') => {\n  api.internals.register(joinSelector(TranslateSelector.COLLAPSE, selector), TranslateActionee);\n  api.internals.register(joinSelector(TranslateSelector.BUTTON, selector), TranslateButtonActionee);\n};\n\nexport default integrateTranslate;\n","import api from '../../../../api';\n\nexport const UploadSelector = {\n  UPLOAD: api.internals.ns.selector('upload')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport api from '../../../../api.js';\nimport ID from './id';\n\nclass UploadActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'UploadActionee';\n  }\n\n  init () {\n    this.setChangeType();\n    this._label = this.node.parentNode.querySelector(api.internals.ns.selector('label'));\n    this.listenChange();\n  }\n\n  setChangeValue (e) {\n    if (!e.target || !e.target.files) return;\n    const value = Array.from(e.target.files).map(file => /(?:\\.([^.]+))?$/.exec(file.name)[1]).filter((name, index, array) => array.indexOf(name) === index).join(' - ');\n    if (value) this.value = value;\n  }\n\n  get label () {\n    if (this._label) {\n      const text = this.getFirstText(this._label);\n      if (text) return text;\n    }\n\n    return 'ajout de fichier';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { UploadActionee };\n","const ID = 'upload';\n\nexport default ID;\n","import api from '../../../../api';\nimport { UploadSelector } from './upload-selector';\nimport { UploadActionee } from './upload-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateUpload = (selector = '') => {\n  api.internals.register(joinSelector(UploadSelector.UPLOAD, selector), UploadActionee);\n};\n\nexport default integrateUpload;\n","import integrateAccordion from './accordion/integrate';\nimport integrateAlert from './alert/integrate';\nimport integrateBreadcrumb from './breadcrumb/integrate';\n// import integrateBadge from './badge/integrate';\nimport integrateButton from './button/integrate';\nimport integrateCallout from './callout/integrate';\nimport integrateCard from './card/integrate';\nimport integrateCheckbox from './checkbox/integrate';\nimport integrateConnect from './connect/integrate';\nimport integrateConsent from './consent/integrate';\n// import integrateContent from './content/integrate';\nimport integrateDownload from './download/integrate';\nimport integrateFollow from './follow/integrate';\nimport integrateFooter from './footer/integrate';\nimport integrateHeader from './header/integrate';\nimport integrateHighlight from './highlight/integrate';\nimport integrateLink from './link/integrate';\nimport integrateInput from './input/integrate';\nimport integrateModal from './modal/integrate';\nimport integrateNavigation from './navigation/integrate';\nimport integrateNotice from './notice/integrate';\nimport integratePagination from './pagination/integrate';\nimport integrateQuote from './quote/integrate';\nimport integrateRadio from './radio/integrate';\nimport integrateSearch from './search/integrate';\nimport integrateSelect from './select/integrate';\nimport integrateShare from './share/integrate';\nimport integrateSidemenu from './sidemenu/integrate';\n// import integrateStepper from './stepper/integrate';\nimport integrateSummary from './summary/integrate';\nimport integrateTab from './tab/integrate';\nimport integrateTable from './table/integrate';\nimport integrateTag from './tag/integrate';\nimport integrateTile from './tile/integrate';\nimport integrateToggle from './toggle/integrate';\n// import integrateTooltip from './tooltip/integrate';\nimport integrateTranscription from './transcription/integrate';\nimport integrateTranslate from './translate/integrate';\nimport integrateUpload from './upload/integrate';\n\nconst integrateComponents = (selector = '') => {\n  integrateAccordion(selector);\n  integrateBreadcrumb(selector);\n  integrateAlert(selector);\n  // integrateBadge(selector);\n  integrateButton(selector);\n  integrateCallout(selector);\n  integrateConnect(selector);\n  integrateConsent(selector);\n  // integrateContent(selector);\n  integrateCard(selector);\n  integrateInput(selector);\n  integrateCheckbox(selector);\n  integrateDownload(selector);\n  integrateFooter(selector);\n  integrateFollow(selector);\n  integrateHeader(selector);\n  integrateHighlight(selector);\n  integrateLink(selector);\n  integrateModal(selector);\n  integrateNavigation(selector);\n  integrateNotice(selector);\n  integratePagination(selector);\n  integrateQuote(selector);\n  integrateRadio(selector);\n  integrateSearch(selector);\n  integrateSelect(selector);\n  integrateShare(selector);\n  integrateSidemenu(selector);\n  // integrateStepper(selector);\n  integrateSummary(selector);\n  integrateTab(selector);\n  integrateTable(selector);\n  integrateTag(selector);\n  integrateTile(selector);\n  integrateToggle(selector);\n  // integrateTooltip(selector);\n  integrateTranscription(selector);\n  integrateTranslate(selector);\n  integrateUpload(selector);\n};\n\nexport default integrateComponents;\n","import api from '../../../../api';\nimport { AccordionActionee } from './accordion-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateAccordion = (selector = '') => {\n  if (api.accordion) {\n    api.internals.register(joinSelector(api.accordion.AccordionSelector.COLLAPSE, selector), AccordionActionee);\n  }\n};\n\nexport default integrateAccordion;\n","import api from '../../../../api';\nimport { FooterSelector } from './footer-selector';\nimport { FooterActionee } from './footer-actionee';\nimport { FooterLinkActionee } from './footer-link-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateFooter = (selector = '') => {\n  api.internals.register(joinSelector(FooterSelector.FOOTER, selector), FooterActionee);\n  api.internals.register(joinSelector(FooterSelector.FOOTER_LINKS, selector), FooterLinkActionee);\n};\n\nexport default integrateFooter;\n","import api from '../../../../api';\nimport { ModalActionee } from './modal-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateModal = (selector = '') => {\n  if (api.modal) {\n    api.internals.register(joinSelector(api.modal.ModalSelector.MODAL, selector), ModalActionee);\n  }\n};\n\nexport default integrateModal;\n","import api from '../../../../api';\nimport { SummarySelector } from './summary-selector';\nimport { SummaryActionee } from './summary-actionee';\nimport { SummaryLinkActionee } from './summary-link-actionee';\nimport { SummarySectionActionee } from './summary-section-actionee';\nimport { joinSelector } from '../../join-selector';\n\nconst integrateSummary = (selector = '') => {\n  api.internals.register(joinSelector(SummarySelector.SUMMARY, selector), SummaryActionee);\n  api.internals.register(joinSelector(SummarySelector.LINK, selector), SummaryLinkActionee);\n  api.internals.register(joinSelector(SummarySelector.ITEM, selector), SummarySectionActionee);\n};\n\nexport default integrateSummary;\n","// import './core/core';\nimport integrateAttributes from './attributes/attributes';\nimport integrateComponents from './component/components';\n\nconst integration = (selector) => {\n  integrateAttributes();\n  integrateComponents(selector);\n};\n\nexport default integration;\n","import api from './index.js';\nimport integration from './script/integration/integration';\napi.analytics.readiness.then(() => {\n  const selector = api.analytics._collector.isActionReduced ? api.internals.ns.attr.selector('analytics-action') : '';\n  integration(selector);\n}, () => {});\n\nexport default api;\n"],"names":["api","window","Collection","MANUAL","LOAD","FULL","HASH","key","DISABLED","TOGGLE","opt","constructor","this","_configure","scope","isDisabled","toggle","bind","localStorage","getItem","enable","disable","removeItem","setItem","PUSH","Init","domain","_domain","_isLoaded","_promise","Promise","resolve","reject","_resolve","_reject","id","_id","store","_store","configure","init","bit","i","length","charCodeAt","eah","args","push","inspector","warn","load","stamp","Date","offset","String","fromCharCode","_script","document","createElement","ea","async","addEventListener","loaded","error","src","node","getElementsByTagName","parentNode","insertBefore","State","TarteAuCitronIntegration","config","_config","_state","info","tarteaucitron","services","requestAnimationFrame","data","type","name","needConsent","cookies","uri","js","fallback","eulerian","job","__eaGenericCmpApi","integrate","update","cmpApi","_cmpApi","ConsentManagerPlatform","integrateTarteAuCitron","_tac","optin","layer","EA_push","PushType","COLLECTOR","ACTION","ACTION_PARAMETER","renderer","_renderables","_rendering","render","add","renderable","indexOf","remove","index","splice","forEach","ActionRegulation","ENFORCE","PREVENT","NONE","QueuedAction","action","_action","_data","test","start","end","queue","_startingActions","_endingActions","_handlingVisibilityChange","_handleVisibilityChange","_handlingEnd","_handleEnd","_isStarted","_isListening","reset","setCollector","collector","_collector","ending","_type","_count","_delay","_isRequested","_unlisten","collect","_request","regulate","some","queued","log","regulation","isActionEnabled","appendStartingAction","appendEndingAction","_listen","removeEventListener","e","visibilityState","send","actionLayers","map","filter","slices","slice","flat","isCollecting","apply","debug","_oEa","isActive","debugger","_dbg","value","Status","CONNECTED","isConnected","isDefault","ANONYMOUS","GUEST","Type","INDIVIDUAL","PROFESSIONNAL","RESTRICTED","normalize","text","char","code","toString","charCodeHex","join","replace","toLowerCase","validateString","allowNull","undefined","validateNumber","isNaN","Number","validateBoolean","validateLang","split","validateGeography","normaliseISODate","date","toISOString","User","clear","_isConnected","status","connect","uid","email","isNew","_uid","_email","_isNew","profile","language","stati","Object","values","_status","valid","_profile","_language","navigator","Environment","DEVELOPMENT","STAGE","PRODUCTION","Site","environment","entity","target","region","department","version","_api","_environment","_entity","documentElement","lang","_target","_region","_department","_version","Inventory","accordion","internals","ns","selector","alert","badge","breadcrumb","button","callout","card","checkbox","consent","content","download","follow","footer","header","highlight","input","link","modal","navigation","notice","pagination","quote","radio","search","select","share","sidemenu","stepper","summary","tab","table","tag","tile","tooltip","transcription","translate","upload","CollectionState","Page","path","referrer","title","author","_labels","labels","_tags","tags","_categories","categories","isError","template","group","segment","subtemplate","theme","subtheme","related","depth","current","total","_filters","filters","collecting","_path","location","pathname","_referrer","_title","_author","validateDate","_date","_name","_isError","_template","_segment","_group","_subtemplate","_theme","_subtheme","_related","_depth","_current","_total","components","keys","querySelector","label","category","Method","STANDARD","AUTOCOMPLETE","Search","engine","results","terms","method","_engine","_results","_terms","_category","methods","_method","Funnel","step","objective","_step","_objective","_error","ActionMode","IN","OUT","ActionStatus","getParametersLayer","entries","Action","_isMuted","_regulation","_parameters","_sentData","isMuted","includes","isSingular","reference","_reference","parameters","mode","_mode","singularize","rewind","addParameter","removeParameter","_base","_getLayer","JSON","stringify","assign","resume","Actions","_actions","getAction","hasAction","actions","instance","Location","onRouteChange","isListeningHash","_onRouteChange","_isListeningHash","_update","_pathname","_search","_hash","hash","_hasTitle","change","hasTitle","CollectorEvent","COLLECT","event","ActioneeEmission","REWIND","emission","ActionEnable","ENABLE","output","DISABLE","REDUCE","Collector","collection","_collection","Modes","ANGULAR","REACT","VUE","_user","user","_site","site","_page","page","_funnel","funnel","handleRouteChange","_handleRouteChange","_location","_routeChanged","CustomEvent","dispatchEvent","stage","root","descend","_isActionEnabled","find","isActionReduced","analytics","_isReady","_readiness","configuration","_build","_init","then","_start","reason","isReady","readiness","_cmp","cmp","isDebugging","sources","source","descriptors","reduce","getOwnPropertyDescriptor","getOwnPropertySymbols","sym","descriptor","enumerable","defineProperties","completeAssign","IMPRESSION","isBeginning","attributed","CLICK","INTERNAL","EXTERNAL","DOWNLOAD","BUTTON","DOUBLE_CLICK","OPEN","COMPLETE","FOCUS","ERROR","ADD","REMOVE","DISPLAY","CHANGE","PROGRESS","SHARE","PRESS","RELEASE","DISMISS","UPLOAD","CHECK","UNCHECK","SELECT","SUBSCRIBE","DISCLOSE","SEARCH","SHOW","HIDE","AUTOPLAY","PLAY","PAUSE","END","NODE_POSITION","Node","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_CONTAINED_BY","Heading","heading","_label","textContent","trim","_level","tagName","charAt","level","Member","_node","_component","_isValid","analyse","_parseHeadings","Array","from","v","_headings","querySelectorAll","compareDocumentPosition","reverse","_getComponent","element","actionee","isActionee","sort","a","b","priority","validate","top","hx","closest","component","_getHeading","unshift","isValid","Hierarchy","_process","member","_members","contains","_localComponent","_globalComponent","localComponent","globalComponent","ActionElement","isRating","_isRating","_hasBegun","_hierarchy","outerHTML","begin","act","dispose","ActionAttributes","RATING","attr","Actionee","core","Instance","super","_priority","instanceClassName","proxy","members","proxyAccessors","property","registration","_sort","getRegulation","actionAttribute","getAttribute","hasAttribute","_actionElement","addDescent","mutate","attributeNames","actionees","instances","setPriority","isInteractive","detectInteractionType","href","isDownload","hostname","setClickType","listenActionClick","_clickTarget","_handlingClick","capture","listenClick","handleClick","setImpressionType","component_value","getFirstText","childNodes","nodeType","TEXT_NODE","cropText","substring","getInteractionLabel","img","alt","getHeadingLabel","headings","detectLevel","levels","Math","min","actionElement","_value","AttributeActionee","_attribute","pop","listen","handleEvent","handleChange","change_value","ButtonEmission","ComponentActionee","setDiscloseType","listenDisclose","DisclosureEvent","_handleDisclose","setChangeType","listenChange","_handleChange","setChangeValue","listenInputValidation","isSendingInputValue","_isSendingInputValue","addAscent","_actValidatedInput","getDescendantInstances","_validatedInput","_handlingInputValidation","_handleInputValidation","keyCode","_isActingValidatedInput","request","_actedValidatedInput","setCheckType","detectCheckableType","isChecked","checked","listenCheckable","_handleCheckable","detectPressableType","isPressable","isPressed","listenPressable","_handlePressable","setDismissType","AccordionSelector","ACCORDION","TITLE","ID","AccordionButtonActionee","getInstance","firstText","AccordionActionee","wrapper","register","buttons","isPrimary","joinSelector","selectors","AlertSelector","ALERT","AlertActionee","alertTitle","BreadcrumbSelector","LINK","COLLAPSE","BreadcrumbActionee","BreadcrumbLinkActionee","ButtonSelector","ButtonActionee","ascend","CalloutSelector","CALLOUT","CalloutActionee","calloutTitle","CardSelector","CARD","CardActionee","cardTitle","CheckboxSelector","INPUT","CheckboxActionee","ConnectSelector","CONNECT","ConnectActionee","classList","ConnectLinkActionee","ConsentSelector","BANNER","ConsentActionee","DownloadSelector","DownloadActionee","FollowSelector","FOLLOW","NEWSLETTER_INPUT_GROUP","FollowActionee","_inputGroup","FooterSelector","FOOTER","FOOTER_LINKS","FooterActionee","FooterLinkActionee","HeaderActionee","HeaderModalButtonActionee","HeaderModalActionee","isBreakpoint","Breakpoints","LG","HeaderSelector","TOOLS_BUTTON","MENU_BUTTON","HeaderToolsButtonActionee","HeaderMenuButtonActionee","HighlightSelector","HIGHLIGHT","HighlightActionee","LinkSelector","LinkActionee","InputSelector","InputActionee","_input","_inputWrap","ModalSelector","ModalActionee","NavigationActionee","NavigationSelector","NavigationLinkActionee","NavigationSectionActionee","_wrapper","ITEM","NoticeSelector","NOTICE","NoticeActionee","noticeTitle","NoticeLinkActionee","PaginationSelector","PAGINATION","NEXT_LINK","LAST_LINK","ANALYTICS_TOTAL","CURRENT","PaginationActionee","setPagination","currentLink","currentLabel","getInt","getTotalPage","parseInt","links","totalLabel","val","ints","match","PaginationLinkActionee","QuoteSelector","QUOTE","QuoteActionee","blockquote","RadioSelector","FormSelector","LABEL","FIELDSET","LEGEND","RadioActionee","parts","fieldset","legend","firstTextLegend","firstTextLabel","SearchSelector","SEARCH_BAR","SearchActionee","SelectSelector","SelectActionee","selectedOptions","option","ShareSelector","ShareActionee","SidemenuSelector","SIDEMENU","SidemenuActionee","SidemenuLinkActionee","SidemenuSectionActionee","firstTextBtn","SummarySelector","SUMMARY","SummaryActionee","SummaryLinkActionee","SummarySectionActionee","_link","TabButtonActionee","TabActionee","_instance","tabs","TabSelector","GROUP","LIST","TAB","firstTextTab","TableSelector","TABLE","TableActionee","caption","TagSelector","TAG","PRESSABLE","DISMISSIBLE","TagActionee","TileSelector","TILE","TileActionee","tileTitle","ToggleSelector","ToggleActionee","TRANSCRIPTION","TranscriptionSelector","COLLAPSE_LEGACY","TranscriptionButtonActionee","TranscriptionActionee","firstTextTitle","TRANSLATE","TranslateSelector","TranslateActionee","TranslateButtonActionee","UploadSelector","UploadActionee","files","file","exec","array","integrateComponents","integrateAccordion","integrateBreadcrumb","integrateAlert","integrateButton","integrateCallout","integrateConnect","integrateConsent","integrateCard","integrateInput","integrateCheckbox","integrateDownload","integrateFooter","integrateFollow","HEADER","MODALS","integrateHeader","integrateHighlight","integrateLink","MODAL","integrateModal","NAVIGATION","integrateNavigation","integrateNotice","integratePagination","integrateQuote","integrateRadio","integrateSearch","integrateSelect","integrateShare","integrateSidemenu","integrateSummary","PANEL","integrateTab","integrateTable","integrateTag","integrateTile","integrateToggle","integrateTranscription","integrateTranslate","integrateUpload","integration"],"mappings":"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"}